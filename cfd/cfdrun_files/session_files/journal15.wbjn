# encoding: utf-8
# 2023 R1
SetScriptVersion(Version="23.1.153")
system1 = GetSystem(Name="CFX")
solutionComponent1 = system1.GetComponent(Name="Solution")
solutionComponent1.Reset()
setup1 = system1.GetContainer(ComponentName="Setup")
setup1.Edit()
setup1.SendCommand(Command="""VIEW:View 1
  Camera Mode = User Specified
  CAMERA:
    Option = Pivot Point and Quaternion
    Pivot Point = 0.0482722, 0.272199, 0.0259069
    Scale = 11.0651
    Pan = 0, 0
    Rotation Quaternion = 0.117843, 0.0518616, -0.117424, 0.984777
    
  END

END

> update
ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command=""">delete /FLOW:Flow Analysis 1/DOMAIN:IGV,/FLOW:Flow Analysis 1/DOMAIN:R1,/FLOW:Flow Analysis 1/DOMAIN:S1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:IGV to IGV Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to IGV,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to R1 Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to R1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to S1 Periodic 1,/FLOW:Flow Analysis 1/ANALYSIS TYPE,/FLOW:Flow Analysis 1/OUTPUT CONTROL/MONITOR OBJECTS/EFFICIENCY OUTPUT,/FLOW:Flow Analysis 1/OUTPUT CONTROL/EFFICIENCY OUTPUT,/TURBO POST DATA,/FLOW:Flow Analysis 1/TRANSIENT BLADE ROW MODELS,/FLOW:Flow Analysis 1/OUTPUT CONTROL/TRANSIENT BLADE ROW OUTPUT
FLOW: Flow Analysis 1
  &replace DOMAIN INTERFACE: IGV to IGV Periodic 1
    Filter Domain List1 = IGV
    Filter Domain List2 = IGV
    Interface Region List1 = PER1 2
    Interface Region List2 = PER2 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: R1 to IGV
    Filter Domain List1 = R1
    Filter Domain List2 = IGV
    Interface Region List1 = INFLOW 3
    Interface Region List2 = OUTFLOW 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: R1 to R1 Periodic 1
    Filter Domain List1 = R1
    Filter Domain List2 = R1
    Interface Region List1 = PER1 3
    Interface Region List2 = PER2 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: S1 to R1
    Filter Domain List1 = S1
    Filter Domain List2 = R1
    Interface Region List1 = INFLOW
    Interface Region List2 = OUTFLOW 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: S1 to S1 Periodic 1
    Filter Domain List1 = S1
    Filter Domain List2 = S1
    Interface Region List1 = PER1
    Interface Region List2 = PER2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace SOLUTION UNITS:
    Angle Units = [rad]
    Length Units = [m]
    Mass Units = [kg]
    Solid Angle Units = [sr]
    Temperature Units = [K]
    Time Units = [s]
  END
  &replace SOLVER CONTROL:
    Turbulence Numerics = First Order
    ADVECTION SCHEME:
      Option = High Resolution
    END
    CONVERGENCE CONTROL:
      Length Scale Option = Conservative
      Maximum Number of Iterations = 100000
      Minimum Number of Iterations = 1
      Timescale Control = Auto Timescale
      Timescale Factor = 1.0
    END
    CONVERGENCE CRITERIA:
      Residual Target = 0.000001
      Residual Type = RMS
    END
    DYNAMIC MODEL CONTROL:
      Global Dynamic Model Control = On
    END
    INTERRUPT CONTROL:
      Option = Any Interrupt
      CONVERGENCE CONDITIONS:
        Option = Default Conditions
      END
    END
  END
  &replace ANALYSIS TYPE:
    Option = Steady State
    EXTERNAL SOLVER COUPLING:
      Option = None
    END
  END
  &replace OUTPUT CONTROL:
    MONITOR OBJECTS:
      MONITOR BALANCES:
        Option = Full
      END
      MONITOR FORCES:
        Option = Full
      END
      MONITOR PARTICLES:
        Option = Full
      END
      MONITOR POINT: monitorMassflow
        Coord Frame = Coord 0
        Expression Value = massflowExp
        Option = Expression
      END
      MONITOR RESIDUALS:
        Option = Full
      END
      MONITOR TOTALS:
        Option = Full
      END
      EFFICIENCY OUTPUT:
        Inflow Boundary = IGV Inlet
        Option = Output To Solver Monitor
        Outflow Boundary = S1 Outlet
      END
    END
    RESULTS:
      File Compression Level = Default
      Option = Standard
    END
  END
  &replace DOMAIN: IGV
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage 2
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    BOUNDARY: IGV Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: IGV Inlet
      Boundary Type = INLET
      Interface Boundary = Off
      Location = INFLOW 2
      BOUNDARY CONDITIONS:
        FLOW DIRECTION:
          Option = Normal to Boundary Condition
        END
        FLOW REGIME:
          Option = Subsonic
        END
        HEAT TRANSFER:
          Option = Total Temperature
          Total Temperature = 517.4 [K]
        END
        MASS AND MOMENTUM:
          Option = Total Pressure
          Relative Pressure = 386.451 [kPa]
        END
        TURBULENCE:
          Option = Medium Intensity and Eddy Viscosity Ratio
        END
      END
    END
  END
  &replace DOMAIN: R1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main 3
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    BOUNDARY: R1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = BLADE 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Hub
      Boundary Type = WALL
      Coord Frame = Coord 0
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = HUB 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Alternate Rotation Model = true
        Angular Velocity = -16170.4 [rev min^-1]
        Option = Rotating
        AXIS DEFINITION:
          Option = Coordinate Axis
          Rotation Axis = Coord 0.1
        END
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: R1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = SHROUD 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
          WALL VELOCITY:
            Option = Counter Rotating Wall
          END
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
  END
  &replace DOMAIN: S1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    BOUNDARY: S1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: S1 Outlet
      Boundary Type = OUTLET
      Interface Boundary = Off
      Location = OUTFLOW
      BOUNDARY CONDITIONS:
        FLOW REGIME:
          Option = Subsonic
        END
        MASS AND MOMENTUM:
          Option = Average Static Pressure
          Pressure Profile Blend = 0.05
          Relative Pressure = 5.5 [bar]
        END
        PRESSURE AVERAGING:
          Option = Average Over Whole Outlet
        END
      END
    END
  END
END

>physicsupdate
TURBO POST DATA:
  Machine Type = Axial Compressor
  Component Order = IGV, R1, S1
  Flow Type = Compressible
  Reference Pressure = 0 [atm]
  Rotation Axis From = 0 [m], 0 [m], 0 [m]
  Rotation Axis To = 1 [m], 0 [m], 0 [m]
  TURBO POST COMPONENT: IGV
    Domain Name = IGV
    Domain Motion = Stationary
    Number of Components in 360 = 70
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 2
    Hub Region = HUB 2
    Shroud Region = SHROUD 2
    Inlet Region = INFLOW 2
    Outlet Region = OUTFLOW 2
    Periodic 1 Region = PER1 2
    Periodic 2 Region = PER2 2
  END
  TURBO POST COMPONENT: R1
    Domain Name = R1
    Domain Motion = Rotating
    Number of Components in 360 = 40
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 3
    Hub Region = HUB 3
    Shroud Region = SHROUD 3
    Inlet Region = INFLOW 3
    Outlet Region = OUTFLOW 3
    Periodic 1 Region = PER1 3
    Periodic 2 Region = PER2 3
  END
  TURBO POST COMPONENT: S1
    Domain Name = S1
    Domain Motion = Stationary
    Number of Components in 360 = 50
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE
    Hub Region = HUB
    Shroud Region = SHROUD
    Outlet Region = OUTFLOW
    Inlet Region = INFLOW
    Periodic 1 Region = PER1
    Periodic 2 Region = PER2
  END
END""")
setup1.SendCommand(Command=">delete /AXIS:TurboPre")
setup1.SendCommand(Command=">delete /ROTATION MARKER:Marker R1")
solution1 = system1.GetContainer(ComponentName="Solution")
solution1.SetExecutionControl(CCL=r"""&replace SIMULATION CONTROL:
  EXECUTION CONTROL:
    EXECUTABLE SELECTION:
      Double Precision = Off
      Large Problem = Off
    END
    INTERPOLATOR STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
    END
    PARTITIONER STEP CONTROL:
      Multidomain Option = Automatic
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARTITION SMOOTHING:
        Maximum Partition Smoothing Sweeps = 100
        Option = Smooth
      END
      PARTITIONING TYPE:
        MeTiS Type = k-way
        Option = MeTiS
        Partition Size Rule = Automatic
      END
    END
    RUN DEFINITION:
      Run Mode = Full
      Solver Input File = C:\Users\alebostr\Desktop\DT3_files\cfd\cfdrun_files\dp0\CFX\CFX\CFX.def
    END
    SOLVER STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARALLEL ENVIRONMENT:
        Number of Processes = 1
        Start Method = Serial
      END
    END
  END
END
""")
solutionComponent1.Update(Force=True)
solution1.MarkUpToDate()
results1 = system1.GetContainer(ComponentName="Results")
results1.Edit()
results1.SendCommand(Command="""VIEW:View 1
  Light Angle = 50, 110
END

VIEW:View 2
  Light Angle = 50, 110
END

VIEW:View 3
  Light Angle = 50, 110
END

VIEW:View 4
  Light Angle = 50, 110
END

> update
>report save, format=preview""")
results1.SendCommand(Command="""REPORT:
  PUBLISH:
Generate 3D Viewer Files = Off
Report Format = HTML
Report Path = C:/Users/alebostr/Desktop/DT3_files/cfd/cfdrun_files/user_files/AxialCompressorReport.htm
Save Images In Separate Folder = Off

END
END
>report save""")
results1.Exit()
setup1.Edit()
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.SendCommand(Command=""">delete /FLOW:Flow Analysis 1/DOMAIN:IGV,/FLOW:Flow Analysis 1/DOMAIN:R1,/FLOW:Flow Analysis 1/DOMAIN:S1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:IGV to IGV Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to IGV,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to R1 Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to R1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to S1 Periodic 1,/FLOW:Flow Analysis 1/ANALYSIS TYPE,/FLOW:Flow Analysis 1/OUTPUT CONTROL/MONITOR OBJECTS/EFFICIENCY OUTPUT,/FLOW:Flow Analysis 1/OUTPUT CONTROL/EFFICIENCY OUTPUT,/TURBO POST DATA,/FLOW:Flow Analysis 1/TRANSIENT BLADE ROW MODELS,/FLOW:Flow Analysis 1/OUTPUT CONTROL/TRANSIENT BLADE ROW OUTPUT
FLOW: Flow Analysis 1
  &replace DOMAIN INTERFACE: IGV to IGV Periodic 1
    Filter Domain List1 = IGV
    Filter Domain List2 = IGV
    Interface Region List1 = PER1 2
    Interface Region List2 = PER2 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: R1 to IGV
    Filter Domain List1 = R1
    Filter Domain List2 = IGV
    Interface Region List1 = INFLOW 3
    Interface Region List2 = OUTFLOW 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: R1 to R1 Periodic 1
    Filter Domain List1 = R1
    Filter Domain List2 = R1
    Interface Region List1 = PER1 3
    Interface Region List2 = PER2 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: S1 to R1
    Filter Domain List1 = S1
    Filter Domain List2 = R1
    Interface Region List1 = INFLOW
    Interface Region List2 = OUTFLOW 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: S1 to S1 Periodic 1
    Filter Domain List1 = S1
    Filter Domain List2 = S1
    Interface Region List1 = PER1
    Interface Region List2 = PER2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace SOLUTION UNITS:
    Angle Units = [rad]
    Length Units = [m]
    Mass Units = [kg]
    Solid Angle Units = [sr]
    Temperature Units = [K]
    Time Units = [s]
  END
  &replace SOLVER CONTROL:
    Turbulence Numerics = First Order
    ADVECTION SCHEME:
      Option = High Resolution
    END
    CONVERGENCE CONTROL:
      Length Scale Option = Conservative
      Maximum Number of Iterations = 100000
      Minimum Number of Iterations = 1
      Timescale Control = Auto Timescale
      Timescale Factor = 1.0
    END
    CONVERGENCE CRITERIA:
      Residual Target = 0.000001
      Residual Type = RMS
    END
    DYNAMIC MODEL CONTROL:
      Global Dynamic Model Control = On
    END
    INTERRUPT CONTROL:
      Option = Any Interrupt
      CONVERGENCE CONDITIONS:
        Option = Default Conditions
      END
    END
  END
  &replace ANALYSIS TYPE:
    Option = Steady State
    EXTERNAL SOLVER COUPLING:
      Option = None
    END
  END
  &replace OUTPUT CONTROL:
    MONITOR OBJECTS:
      MONITOR BALANCES:
        Option = Full
      END
      MONITOR FORCES:
        Option = Full
      END
      MONITOR PARTICLES:
        Option = Full
      END
      MONITOR POINT: monitorMassflow
        Coord Frame = Coord 0
        Expression Value = massflowExp
        Option = Expression
      END
      MONITOR RESIDUALS:
        Option = Full
      END
      MONITOR TOTALS:
        Option = Full
      END
      EFFICIENCY OUTPUT:
        Inflow Boundary = IGV Inlet
        Option = Output To Solver Monitor
        Outflow Boundary = S1 Outlet
      END
    END
    RESULTS:
      File Compression Level = Default
      Option = Standard
    END
  END
  &replace DOMAIN: IGV
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage 2
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    BOUNDARY: IGV Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: IGV Inlet
      Boundary Type = INLET
      Interface Boundary = Off
      Location = INFLOW 2
      BOUNDARY CONDITIONS:
        FLOW DIRECTION:
          Option = Normal to Boundary Condition
        END
        FLOW REGIME:
          Option = Subsonic
        END
        HEAT TRANSFER:
          Option = Total Temperature
          Total Temperature = 517.4 [K]
        END
        MASS AND MOMENTUM:
          Option = Total Pressure
          Relative Pressure = 386.451 [kPa]
        END
        TURBULENCE:
          Option = Medium Intensity and Eddy Viscosity Ratio
        END
      END
    END
  END
  &replace DOMAIN: R1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main 3
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    BOUNDARY: R1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = BLADE 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Hub
      Boundary Type = WALL
      Coord Frame = Coord 0
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = HUB 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = SHROUD 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
          WALL VELOCITY:
            Option = Counter Rotating Wall
          END
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Alternate Rotation Model = true
        Angular Velocity = -16170.4 [rev min^-1]
        Option = Rotating
        AXIS DEFINITION:
          Option = Coordinate Axis
          Rotation Axis = Coord 0.1
        END
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
  END
  &replace DOMAIN: S1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    BOUNDARY: S1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: S1 Outlet
      Boundary Type = OUTLET
      Interface Boundary = Off
      Location = OUTFLOW
      BOUNDARY CONDITIONS:
        FLOW REGIME:
          Option = Subsonic
        END
        MASS AND MOMENTUM:
          Option = Average Static Pressure
          Pressure Profile Blend = 0.05
          Relative Pressure = 5.7 [bar]
        END
        PRESSURE AVERAGING:
          Option = Average Over Whole Outlet
        END
      END
    END
  END
END

>physicsupdate
TURBO POST DATA:
  Machine Type = Axial Compressor
  Component Order = IGV, R1, S1
  Flow Type = Compressible
  Reference Pressure = 0 [atm]
  Rotation Axis From = 0 [m], 0 [m], 0 [m]
  Rotation Axis To = 1 [m], 0 [m], 0 [m]
  TURBO POST COMPONENT: IGV
    Domain Name = IGV
    Domain Motion = Stationary
    Number of Components in 360 = 70
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 2
    Hub Region = HUB 2
    Shroud Region = SHROUD 2
    Inlet Region = INFLOW 2
    Outlet Region = OUTFLOW 2
    Periodic 1 Region = PER1 2
    Periodic 2 Region = PER2 2
  END
  TURBO POST COMPONENT: R1
    Domain Name = R1
    Domain Motion = Rotating
    Number of Components in 360 = 40
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 3
    Hub Region = HUB 3
    Shroud Region = SHROUD 3
    Inlet Region = INFLOW 3
    Outlet Region = OUTFLOW 3
    Periodic 1 Region = PER1 3
    Periodic 2 Region = PER2 3
  END
  TURBO POST COMPONENT: S1
    Domain Name = S1
    Domain Motion = Stationary
    Number of Components in 360 = 50
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE
    Hub Region = HUB
    Shroud Region = SHROUD
    Outlet Region = OUTFLOW
    Inlet Region = INFLOW
    Periodic 1 Region = PER1
    Periodic 2 Region = PER2
  END
END""")
setup1.SendCommand(Command=">delete /AXIS:TurboPre")
setup1.SendCommand(Command=">delete /ROTATION MARKER:Marker R1")
solutionComponent1.Reset()
solution1.SetExecutionControl(CCL=r"""&replace SIMULATION CONTROL:
  EXECUTION CONTROL:
    EXECUTABLE SELECTION:
      Double Precision = Off
      Large Problem = Off
    END
    INTERPOLATOR STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
    END
    PARTITIONER STEP CONTROL:
      Multidomain Option = Automatic
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARTITION SMOOTHING:
        Maximum Partition Smoothing Sweeps = 100
        Option = Smooth
      END
      PARTITIONING TYPE:
        MeTiS Type = k-way
        Option = MeTiS
        Partition Size Rule = Automatic
      END
    END
    RUN DEFINITION:
      Run Mode = Full
      Solver Input File = C:\Users\alebostr\Desktop\DT3_files\cfd\cfdrun_files\dp0\CFX\CFX\CFX.def
    END
    SOLVER STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARALLEL ENVIRONMENT:
        Number of Processes = 1
        Start Method = Serial
      END
    END
  END
END
""")
solutionComponent1.Update(Force=True)
solution1.Exit()
solutionComponent1.Reset()
setup1.Edit()
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.SendCommand(Command=""">delete /FLOW:Flow Analysis 1/DOMAIN:IGV,/FLOW:Flow Analysis 1/DOMAIN:R1,/FLOW:Flow Analysis 1/DOMAIN:S1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:IGV to IGV Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to IGV,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to R1 Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to R1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to S1 Periodic 1,/FLOW:Flow Analysis 1/ANALYSIS TYPE,/FLOW:Flow Analysis 1/OUTPUT CONTROL/MONITOR OBJECTS/EFFICIENCY OUTPUT,/FLOW:Flow Analysis 1/OUTPUT CONTROL/EFFICIENCY OUTPUT,/TURBO POST DATA,/FLOW:Flow Analysis 1/TRANSIENT BLADE ROW MODELS,/FLOW:Flow Analysis 1/OUTPUT CONTROL/TRANSIENT BLADE ROW OUTPUT
FLOW: Flow Analysis 1
  &replace DOMAIN INTERFACE: IGV to IGV Periodic 1
    Filter Domain List1 = IGV
    Filter Domain List2 = IGV
    Interface Region List1 = PER1 2
    Interface Region List2 = PER2 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: R1 to IGV
    Filter Domain List1 = R1
    Filter Domain List2 = IGV
    Interface Region List1 = INFLOW 3
    Interface Region List2 = OUTFLOW 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: R1 to R1 Periodic 1
    Filter Domain List1 = R1
    Filter Domain List2 = R1
    Interface Region List1 = PER1 3
    Interface Region List2 = PER2 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: S1 to R1
    Filter Domain List1 = S1
    Filter Domain List2 = R1
    Interface Region List1 = INFLOW
    Interface Region List2 = OUTFLOW 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: S1 to S1 Periodic 1
    Filter Domain List1 = S1
    Filter Domain List2 = S1
    Interface Region List1 = PER1
    Interface Region List2 = PER2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace SOLUTION UNITS:
    Angle Units = [rad]
    Length Units = [m]
    Mass Units = [kg]
    Solid Angle Units = [sr]
    Temperature Units = [K]
    Time Units = [s]
  END
  &replace SOLVER CONTROL:
    Turbulence Numerics = First Order
    ADVECTION SCHEME:
      Option = High Resolution
    END
    CONVERGENCE CONTROL:
      Length Scale Option = Conservative
      Maximum Number of Iterations = 100000
      Minimum Number of Iterations = 1
      Timescale Control = Auto Timescale
      Timescale Factor = 1.0
    END
    CONVERGENCE CRITERIA:
      Residual Target = 0.000001
      Residual Type = RMS
    END
    DYNAMIC MODEL CONTROL:
      Global Dynamic Model Control = On
    END
    INTERRUPT CONTROL:
      Option = Any Interrupt
      CONVERGENCE CONDITIONS:
        Option = Default Conditions
      END
    END
  END
  &replace ANALYSIS TYPE:
    Option = Steady State
    EXTERNAL SOLVER COUPLING:
      Option = None
    END
  END
  &replace OUTPUT CONTROL:
    MONITOR OBJECTS:
      MONITOR BALANCES:
        Option = Full
      END
      MONITOR FORCES:
        Option = Full
      END
      MONITOR PARTICLES:
        Option = Full
      END
      MONITOR POINT: monitorMassflow
        Coord Frame = Coord 0
        Expression Value = massflowExp
        Option = Expression
      END
      MONITOR RESIDUALS:
        Option = Full
      END
      MONITOR TOTALS:
        Option = Full
      END
      EFFICIENCY OUTPUT:
        Inflow Boundary = IGV Inlet
        Option = Output To Solver Monitor
        Outflow Boundary = S1 Outlet
      END
    END
    RESULTS:
      File Compression Level = Default
      Option = Standard
    END
  END
  &replace DOMAIN: IGV
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage 2
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    BOUNDARY: IGV Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: IGV Inlet
      Boundary Type = INLET
      Interface Boundary = Off
      Location = INFLOW 2
      BOUNDARY CONDITIONS:
        FLOW DIRECTION:
          Option = Normal to Boundary Condition
        END
        FLOW REGIME:
          Option = Subsonic
        END
        HEAT TRANSFER:
          Option = Total Temperature
          Total Temperature = 517.4 [K]
        END
        MASS AND MOMENTUM:
          Option = Total Pressure
          Relative Pressure = 386.451 [kPa]
        END
        TURBULENCE:
          Option = Medium Intensity and Eddy Viscosity Ratio
        END
      END
    END
  END
  &replace DOMAIN: R1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main 3
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    BOUNDARY: R1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = BLADE 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Hub
      Boundary Type = WALL
      Coord Frame = Coord 0
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = HUB 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = SHROUD 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
          WALL VELOCITY:
            Option = Counter Rotating Wall
          END
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Alternate Rotation Model = true
        Angular Velocity = -16170.4 [rev min^-1]
        Option = Rotating
        AXIS DEFINITION:
          Option = Coordinate Axis
          Rotation Axis = Coord 0.1
        END
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
  END
  &replace DOMAIN: S1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    BOUNDARY: S1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: S1 Outlet
      Boundary Type = OUTLET
      Interface Boundary = Off
      Location = OUTFLOW
      BOUNDARY CONDITIONS:
        FLOW REGIME:
          Option = Subsonic
        END
        MASS AND MOMENTUM:
          Option = Average Static Pressure
          Pressure Profile Blend = 0.05
          Relative Pressure = 5.6 [bar]
        END
        PRESSURE AVERAGING:
          Option = Average Over Whole Outlet
        END
      END
    END
  END
END

>physicsupdate
TURBO POST DATA:
  Machine Type = Axial Compressor
  Component Order = IGV, R1, S1
  Flow Type = Compressible
  Reference Pressure = 0 [atm]
  Rotation Axis From = 0 [m], 0 [m], 0 [m]
  Rotation Axis To = 1 [m], 0 [m], 0 [m]
  TURBO POST COMPONENT: IGV
    Domain Name = IGV
    Domain Motion = Stationary
    Number of Components in 360 = 70
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 2
    Hub Region = HUB 2
    Shroud Region = SHROUD 2
    Inlet Region = INFLOW 2
    Outlet Region = OUTFLOW 2
    Periodic 1 Region = PER1 2
    Periodic 2 Region = PER2 2
  END
  TURBO POST COMPONENT: R1
    Domain Name = R1
    Domain Motion = Rotating
    Number of Components in 360 = 40
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 3
    Hub Region = HUB 3
    Shroud Region = SHROUD 3
    Inlet Region = INFLOW 3
    Outlet Region = OUTFLOW 3
    Periodic 1 Region = PER1 3
    Periodic 2 Region = PER2 3
  END
  TURBO POST COMPONENT: S1
    Domain Name = S1
    Domain Motion = Stationary
    Number of Components in 360 = 50
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE
    Hub Region = HUB
    Shroud Region = SHROUD
    Outlet Region = OUTFLOW
    Inlet Region = INFLOW
    Periodic 1 Region = PER1
    Periodic 2 Region = PER2
  END
END""")
setup1.SendCommand(Command=">delete /AXIS:TurboPre")
setup1.SendCommand(Command=">delete /ROTATION MARKER:Marker R1")
solutionComponent1.Reset()
solution1.SetExecutionControl(CCL=r"""&replace SIMULATION CONTROL:
  EXECUTION CONTROL:
    EXECUTABLE SELECTION:
      Double Precision = Off
      Large Problem = Off
    END
    INTERPOLATOR STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
    END
    PARTITIONER STEP CONTROL:
      Multidomain Option = Automatic
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARTITION SMOOTHING:
        Maximum Partition Smoothing Sweeps = 100
        Option = Smooth
      END
      PARTITIONING TYPE:
        MeTiS Type = k-way
        Option = MeTiS
        Partition Size Rule = Automatic
      END
    END
    RUN DEFINITION:
      Run Mode = Full
      Solver Input File = C:\Users\alebostr\Desktop\DT3_files\cfd\cfdrun_files\dp0\CFX\CFX\CFX.def
    END
    SOLVER STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARALLEL ENVIRONMENT:
        Number of Processes = 1
        Start Method = Serial
      END
    END
  END
END
""")
solutionComponent1.Update(Force=True)
solution1.MarkUpToDate()
setup1.Edit()
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.Exit()
results1.Edit()
results1.SendCommand(Command="""VIEW:View 1
  Light Angle = 50, 110
END

VIEW:View 2
  Light Angle = 50, 110
END

VIEW:View 3
  Light Angle = 50, 110
END

VIEW:View 4
  Light Angle = 50, 110
END

> update
>report save, format=preview""")
results1.SendCommand(Command="""REPORT:
  PUBLISH:
Generate 3D Viewer Files = Off
Report Format = HTML
Report Path = C:/Users/alebostr/Desktop/DT3_files/cfd/cfdrun_files/user_files/AxialCompressorReport.htm
Save Images In Separate Folder = Off

END
END
>report save""")
results1.Exit()
solutionComponent1.Reset()
setup1.Edit()
setup1.SendCommand(Command="""VIEW:View 1
  Camera Mode = User Specified
  CAMERA:
    Option = Pivot Point and Quaternion
    Pivot Point = 0.0482722, 0.272199, 0.0259069
    Scale = 11.0651
    Pan = 0, 0
    Rotation Quaternion = 0.117843, 0.0518616, -0.117424, 0.984777
    
  END

END

VIEW:View 1
  Light Angle = 50, 110
END

> update
ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.SendCommand(Command=""">delete /FLOW:Flow Analysis 1/DOMAIN:IGV,/FLOW:Flow Analysis 1/DOMAIN:R1,/FLOW:Flow Analysis 1/DOMAIN:S1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:IGV to IGV Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to IGV,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to R1 Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to R1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to S1 Periodic 1,/FLOW:Flow Analysis 1/ANALYSIS TYPE,/FLOW:Flow Analysis 1/OUTPUT CONTROL/MONITOR OBJECTS/EFFICIENCY OUTPUT,/FLOW:Flow Analysis 1/OUTPUT CONTROL/EFFICIENCY OUTPUT,/TURBO POST DATA,/FLOW:Flow Analysis 1/TRANSIENT BLADE ROW MODELS,/FLOW:Flow Analysis 1/OUTPUT CONTROL/TRANSIENT BLADE ROW OUTPUT
FLOW: Flow Analysis 1
  &replace DOMAIN INTERFACE: IGV to IGV Periodic 1
    Filter Domain List1 = IGV
    Filter Domain List2 = IGV
    Interface Region List1 = PER1 2
    Interface Region List2 = PER2 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: R1 to IGV
    Filter Domain List1 = R1
    Filter Domain List2 = IGV
    Interface Region List1 = INFLOW 3
    Interface Region List2 = OUTFLOW 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: R1 to R1 Periodic 1
    Filter Domain List1 = R1
    Filter Domain List2 = R1
    Interface Region List1 = PER1 3
    Interface Region List2 = PER2 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: S1 to R1
    Filter Domain List1 = S1
    Filter Domain List2 = R1
    Interface Region List1 = INFLOW
    Interface Region List2 = OUTFLOW 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: S1 to S1 Periodic 1
    Filter Domain List1 = S1
    Filter Domain List2 = S1
    Interface Region List1 = PER1
    Interface Region List2 = PER2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace SOLUTION UNITS:
    Angle Units = [rad]
    Length Units = [m]
    Mass Units = [kg]
    Solid Angle Units = [sr]
    Temperature Units = [K]
    Time Units = [s]
  END
  &replace SOLVER CONTROL:
    Turbulence Numerics = First Order
    ADVECTION SCHEME:
      Option = High Resolution
    END
    CONVERGENCE CONTROL:
      Length Scale Option = Conservative
      Maximum Number of Iterations = 100000
      Minimum Number of Iterations = 1
      Timescale Control = Auto Timescale
      Timescale Factor = 1.0
    END
    CONVERGENCE CRITERIA:
      Residual Target = 0.000001
      Residual Type = RMS
    END
    DYNAMIC MODEL CONTROL:
      Global Dynamic Model Control = On
    END
    INTERRUPT CONTROL:
      Option = Any Interrupt
      CONVERGENCE CONDITIONS:
        Option = Default Conditions
      END
    END
  END
  &replace ANALYSIS TYPE:
    Option = Steady State
    EXTERNAL SOLVER COUPLING:
      Option = None
    END
  END
  &replace OUTPUT CONTROL:
    MONITOR OBJECTS:
      MONITOR BALANCES:
        Option = Full
      END
      MONITOR FORCES:
        Option = Full
      END
      MONITOR PARTICLES:
        Option = Full
      END
      MONITOR POINT: monitorMassflow
        Coord Frame = Coord 0
        Expression Value = massflowExp
        Option = Expression
      END
      MONITOR RESIDUALS:
        Option = Full
      END
      MONITOR TOTALS:
        Option = Full
      END
      EFFICIENCY OUTPUT:
        Inflow Boundary = IGV Inlet
        Option = Output To Solver Monitor
        Outflow Boundary = S1 Outlet
      END
    END
    RESULTS:
      File Compression Level = Default
      Option = Standard
    END
  END
  &replace DOMAIN: IGV
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage 2
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    BOUNDARY: IGV Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: IGV Inlet
      Boundary Type = INLET
      Interface Boundary = Off
      Location = INFLOW 2
      BOUNDARY CONDITIONS:
        FLOW DIRECTION:
          Option = Normal to Boundary Condition
        END
        FLOW REGIME:
          Option = Subsonic
        END
        HEAT TRANSFER:
          Option = Total Temperature
          Total Temperature = 517.4 [K]
        END
        MASS AND MOMENTUM:
          Option = Total Pressure
          Relative Pressure = 386.451 [kPa]
        END
        TURBULENCE:
          Option = Medium Intensity and Eddy Viscosity Ratio
        END
      END
    END
  END
  &replace DOMAIN: R1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main 3
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    BOUNDARY: R1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = BLADE 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Hub
      Boundary Type = WALL
      Coord Frame = Coord 0
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = HUB 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = SHROUD 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
          WALL VELOCITY:
            Option = Counter Rotating Wall
          END
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Alternate Rotation Model = true
        Angular Velocity = -16170.4 [rev min^-1]
        Option = Rotating
        AXIS DEFINITION:
          Option = Coordinate Axis
          Rotation Axis = Coord 0.1
        END
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
  END
  &replace DOMAIN: S1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    BOUNDARY: S1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: S1 Outlet
      Boundary Type = OUTLET
      Interface Boundary = Off
      Location = OUTFLOW
      BOUNDARY CONDITIONS:
        FLOW REGIME:
          Option = Subsonic
        END
        MASS AND MOMENTUM:
          Option = Average Static Pressure
          Pressure Profile Blend = 0.05
          Relative Pressure = 5.8 [bar]
        END
        PRESSURE AVERAGING:
          Option = Average Over Whole Outlet
        END
      END
    END
  END
END

>physicsupdate
TURBO POST DATA:
  Machine Type = Axial Compressor
  Component Order = IGV, R1, S1
  Flow Type = Compressible
  Reference Pressure = 0 [atm]
  Rotation Axis From = 0 [m], 0 [m], 0 [m]
  Rotation Axis To = 1 [m], 0 [m], 0 [m]
  TURBO POST COMPONENT: IGV
    Domain Name = IGV
    Domain Motion = Stationary
    Number of Components in 360 = 70
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 2
    Hub Region = HUB 2
    Shroud Region = SHROUD 2
    Inlet Region = INFLOW 2
    Outlet Region = OUTFLOW 2
    Periodic 1 Region = PER1 2
    Periodic 2 Region = PER2 2
  END
  TURBO POST COMPONENT: R1
    Domain Name = R1
    Domain Motion = Rotating
    Number of Components in 360 = 40
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 3
    Hub Region = HUB 3
    Shroud Region = SHROUD 3
    Inlet Region = INFLOW 3
    Outlet Region = OUTFLOW 3
    Periodic 1 Region = PER1 3
    Periodic 2 Region = PER2 3
  END
  TURBO POST COMPONENT: S1
    Domain Name = S1
    Domain Motion = Stationary
    Number of Components in 360 = 50
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE
    Hub Region = HUB
    Shroud Region = SHROUD
    Outlet Region = OUTFLOW
    Inlet Region = INFLOW
    Periodic 1 Region = PER1
    Periodic 2 Region = PER2
  END
END""")
setup1.SendCommand(Command=">delete /AXIS:TurboPre")
setup1.SendCommand(Command=">delete /ROTATION MARKER:Marker R1")
solutionComponent1.Reset()
setup1.Edit()
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.SendCommand(Command=""">delete /FLOW:Flow Analysis 1/DOMAIN:IGV,/FLOW:Flow Analysis 1/DOMAIN:R1,/FLOW:Flow Analysis 1/DOMAIN:S1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:IGV to IGV Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to IGV,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to R1 Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to R1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to S1 Periodic 1,/FLOW:Flow Analysis 1/ANALYSIS TYPE,/FLOW:Flow Analysis 1/OUTPUT CONTROL/MONITOR OBJECTS/EFFICIENCY OUTPUT,/FLOW:Flow Analysis 1/OUTPUT CONTROL/EFFICIENCY OUTPUT,/TURBO POST DATA,/FLOW:Flow Analysis 1/TRANSIENT BLADE ROW MODELS,/FLOW:Flow Analysis 1/OUTPUT CONTROL/TRANSIENT BLADE ROW OUTPUT
FLOW: Flow Analysis 1
  &replace DOMAIN INTERFACE: IGV to IGV Periodic 1
    Filter Domain List1 = IGV
    Filter Domain List2 = IGV
    Interface Region List1 = PER1 2
    Interface Region List2 = PER2 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: R1 to IGV
    Filter Domain List1 = R1
    Filter Domain List2 = IGV
    Interface Region List1 = INFLOW 3
    Interface Region List2 = OUTFLOW 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: R1 to R1 Periodic 1
    Filter Domain List1 = R1
    Filter Domain List2 = R1
    Interface Region List1 = PER1 3
    Interface Region List2 = PER2 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: S1 to R1
    Filter Domain List1 = S1
    Filter Domain List2 = R1
    Interface Region List1 = INFLOW
    Interface Region List2 = OUTFLOW 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: S1 to S1 Periodic 1
    Filter Domain List1 = S1
    Filter Domain List2 = S1
    Interface Region List1 = PER1
    Interface Region List2 = PER2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace SOLUTION UNITS:
    Angle Units = [rad]
    Length Units = [m]
    Mass Units = [kg]
    Solid Angle Units = [sr]
    Temperature Units = [K]
    Time Units = [s]
  END
  &replace SOLVER CONTROL:
    Turbulence Numerics = First Order
    ADVECTION SCHEME:
      Option = High Resolution
    END
    CONVERGENCE CONTROL:
      Length Scale Option = Conservative
      Maximum Number of Iterations = 100000
      Minimum Number of Iterations = 1
      Timescale Control = Auto Timescale
      Timescale Factor = 1.0
    END
    CONVERGENCE CRITERIA:
      Residual Target = 0.000001
      Residual Type = RMS
    END
    DYNAMIC MODEL CONTROL:
      Global Dynamic Model Control = On
    END
    INTERRUPT CONTROL:
      Option = Any Interrupt
      CONVERGENCE CONDITIONS:
        Option = Default Conditions
      END
    END
  END
  &replace ANALYSIS TYPE:
    Option = Steady State
    EXTERNAL SOLVER COUPLING:
      Option = None
    END
  END
  &replace OUTPUT CONTROL:
    MONITOR OBJECTS:
      MONITOR BALANCES:
        Option = Full
      END
      MONITOR FORCES:
        Option = Full
      END
      MONITOR PARTICLES:
        Option = Full
      END
      MONITOR POINT: monitorMassflow
        Coord Frame = Coord 0
        Expression Value = massflowExp
        Option = Expression
      END
      MONITOR RESIDUALS:
        Option = Full
      END
      MONITOR TOTALS:
        Option = Full
      END
      EFFICIENCY OUTPUT:
        Inflow Boundary = IGV Inlet
        Option = Output To Solver Monitor
        Outflow Boundary = S1 Outlet
      END
    END
    RESULTS:
      File Compression Level = Default
      Option = Standard
    END
  END
  &replace DOMAIN: IGV
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage 2
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    BOUNDARY: IGV Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: IGV Inlet
      Boundary Type = INLET
      Interface Boundary = Off
      Location = INFLOW 2
      BOUNDARY CONDITIONS:
        FLOW DIRECTION:
          Option = Normal to Boundary Condition
        END
        FLOW REGIME:
          Option = Subsonic
        END
        HEAT TRANSFER:
          Option = Total Temperature
          Total Temperature = 517.4 [K]
        END
        MASS AND MOMENTUM:
          Option = Total Pressure
          Relative Pressure = 386.451 [kPa]
        END
        TURBULENCE:
          Option = Medium Intensity and Eddy Viscosity Ratio
        END
      END
    END
  END
  &replace DOMAIN: R1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main 3
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    BOUNDARY: R1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = BLADE 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Hub
      Boundary Type = WALL
      Coord Frame = Coord 0
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = HUB 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = SHROUD 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
          WALL VELOCITY:
            Option = Counter Rotating Wall
          END
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Alternate Rotation Model = true
        Angular Velocity = -16170.4 [rev min^-1]
        Option = Rotating
        AXIS DEFINITION:
          Option = Coordinate Axis
          Rotation Axis = Coord 0.1
        END
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
  END
  &replace DOMAIN: S1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    BOUNDARY: S1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: S1 Outlet
      Boundary Type = OUTLET
      Interface Boundary = Off
      Location = OUTFLOW
      BOUNDARY CONDITIONS:
        FLOW REGIME:
          Option = Subsonic
        END
        MASS AND MOMENTUM:
          Option = Average Static Pressure
          Pressure Profile Blend = 0.05
          Relative Pressure = 5.7 [bar]
        END
        PRESSURE AVERAGING:
          Option = Average Over Whole Outlet
        END
      END
    END
  END
END

>physicsupdate
TURBO POST DATA:
  Machine Type = Axial Compressor
  Component Order = IGV, R1, S1
  Flow Type = Compressible
  Reference Pressure = 0 [atm]
  Rotation Axis From = 0 [m], 0 [m], 0 [m]
  Rotation Axis To = 1 [m], 0 [m], 0 [m]
  TURBO POST COMPONENT: IGV
    Domain Name = IGV
    Domain Motion = Stationary
    Number of Components in 360 = 70
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 2
    Hub Region = HUB 2
    Shroud Region = SHROUD 2
    Inlet Region = INFLOW 2
    Outlet Region = OUTFLOW 2
    Periodic 1 Region = PER1 2
    Periodic 2 Region = PER2 2
  END
  TURBO POST COMPONENT: R1
    Domain Name = R1
    Domain Motion = Rotating
    Number of Components in 360 = 40
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 3
    Hub Region = HUB 3
    Shroud Region = SHROUD 3
    Inlet Region = INFLOW 3
    Outlet Region = OUTFLOW 3
    Periodic 1 Region = PER1 3
    Periodic 2 Region = PER2 3
  END
  TURBO POST COMPONENT: S1
    Domain Name = S1
    Domain Motion = Stationary
    Number of Components in 360 = 50
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE
    Hub Region = HUB
    Shroud Region = SHROUD
    Outlet Region = OUTFLOW
    Inlet Region = INFLOW
    Periodic 1 Region = PER1
    Periodic 2 Region = PER2
  END
END""")
setup1.SendCommand(Command=">delete /AXIS:TurboPre")
setup1.SendCommand(Command=">delete /ROTATION MARKER:Marker R1")
solution1.SetExecutionControl(CCL=r"""&replace SIMULATION CONTROL:
  EXECUTION CONTROL:
    EXECUTABLE SELECTION:
      Double Precision = Off
      Large Problem = Off
    END
    INTERPOLATOR STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
    END
    PARTITIONER STEP CONTROL:
      Multidomain Option = Automatic
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARTITION SMOOTHING:
        Maximum Partition Smoothing Sweeps = 100
        Option = Smooth
      END
      PARTITIONING TYPE:
        MeTiS Type = k-way
        Option = MeTiS
        Partition Size Rule = Automatic
      END
    END
    RUN DEFINITION:
      Run Mode = Full
      Solver Input File = C:\Users\alebostr\Desktop\DT3_files\cfd\cfdrun_files\dp0\CFX\CFX\CFX.def
    END
    SOLVER STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARALLEL ENVIRONMENT:
        Number of Processes = 1
        Start Method = Serial
      END
    END
  END
END
""")
solutionComponent1.Update(Force=True)
solution1.Exit()
solutionComponent1.Reset()
setup1.Edit()
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.SendCommand(Command=""">delete /FLOW:Flow Analysis 1/DOMAIN:IGV,/FLOW:Flow Analysis 1/DOMAIN:R1,/FLOW:Flow Analysis 1/DOMAIN:S1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:IGV to IGV Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to IGV,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to R1 Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to R1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to S1 Periodic 1,/FLOW:Flow Analysis 1/ANALYSIS TYPE,/FLOW:Flow Analysis 1/OUTPUT CONTROL/MONITOR OBJECTS/EFFICIENCY OUTPUT,/FLOW:Flow Analysis 1/OUTPUT CONTROL/EFFICIENCY OUTPUT,/TURBO POST DATA,/FLOW:Flow Analysis 1/TRANSIENT BLADE ROW MODELS,/FLOW:Flow Analysis 1/OUTPUT CONTROL/TRANSIENT BLADE ROW OUTPUT
FLOW: Flow Analysis 1
  &replace DOMAIN INTERFACE: IGV to IGV Periodic 1
    Filter Domain List1 = IGV
    Filter Domain List2 = IGV
    Interface Region List1 = PER1 2
    Interface Region List2 = PER2 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: R1 to IGV
    Filter Domain List1 = R1
    Filter Domain List2 = IGV
    Interface Region List1 = INFLOW 3
    Interface Region List2 = OUTFLOW 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: R1 to R1 Periodic 1
    Filter Domain List1 = R1
    Filter Domain List2 = R1
    Interface Region List1 = PER1 3
    Interface Region List2 = PER2 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: S1 to R1
    Filter Domain List1 = S1
    Filter Domain List2 = R1
    Interface Region List1 = INFLOW
    Interface Region List2 = OUTFLOW 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: S1 to S1 Periodic 1
    Filter Domain List1 = S1
    Filter Domain List2 = S1
    Interface Region List1 = PER1
    Interface Region List2 = PER2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace SOLUTION UNITS:
    Angle Units = [rad]
    Length Units = [m]
    Mass Units = [kg]
    Solid Angle Units = [sr]
    Temperature Units = [K]
    Time Units = [s]
  END
  &replace SOLVER CONTROL:
    Turbulence Numerics = First Order
    ADVECTION SCHEME:
      Option = High Resolution
    END
    CONVERGENCE CONTROL:
      Length Scale Option = Conservative
      Maximum Number of Iterations = 100000
      Minimum Number of Iterations = 1
      Timescale Control = Auto Timescale
      Timescale Factor = 1.0
    END
    CONVERGENCE CRITERIA:
      Residual Target = 0.000001
      Residual Type = RMS
    END
    DYNAMIC MODEL CONTROL:
      Global Dynamic Model Control = On
    END
    INTERRUPT CONTROL:
      Option = Any Interrupt
      CONVERGENCE CONDITIONS:
        Option = Default Conditions
      END
    END
  END
  &replace ANALYSIS TYPE:
    Option = Steady State
    EXTERNAL SOLVER COUPLING:
      Option = None
    END
  END
  &replace OUTPUT CONTROL:
    MONITOR OBJECTS:
      MONITOR BALANCES:
        Option = Full
      END
      MONITOR FORCES:
        Option = Full
      END
      MONITOR PARTICLES:
        Option = Full
      END
      MONITOR POINT: monitorMassflow
        Coord Frame = Coord 0
        Expression Value = massflowExp
        Option = Expression
      END
      MONITOR RESIDUALS:
        Option = Full
      END
      MONITOR TOTALS:
        Option = Full
      END
      EFFICIENCY OUTPUT:
        Inflow Boundary = IGV Inlet
        Option = Output To Solver Monitor
        Outflow Boundary = S1 Outlet
      END
    END
    RESULTS:
      File Compression Level = Default
      Option = Standard
    END
  END
  &replace DOMAIN: IGV
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage 2
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    BOUNDARY: IGV Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: IGV Inlet
      Boundary Type = INLET
      Interface Boundary = Off
      Location = INFLOW 2
      BOUNDARY CONDITIONS:
        FLOW DIRECTION:
          Option = Normal to Boundary Condition
        END
        FLOW REGIME:
          Option = Subsonic
        END
        HEAT TRANSFER:
          Option = Total Temperature
          Total Temperature = 517.4 [K]
        END
        MASS AND MOMENTUM:
          Option = Total Pressure
          Relative Pressure = 386.451 [kPa]
        END
        TURBULENCE:
          Option = Medium Intensity and Eddy Viscosity Ratio
        END
      END
    END
  END
  &replace DOMAIN: R1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main 3
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    BOUNDARY: R1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = BLADE 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Hub
      Boundary Type = WALL
      Coord Frame = Coord 0
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = HUB 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = SHROUD 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
          WALL VELOCITY:
            Option = Counter Rotating Wall
          END
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Alternate Rotation Model = true
        Angular Velocity = -16170.4 [rev min^-1]
        Option = Rotating
        AXIS DEFINITION:
          Option = Coordinate Axis
          Rotation Axis = Coord 0.1
        END
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
  END
  &replace DOMAIN: S1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    BOUNDARY: S1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: S1 Outlet
      Boundary Type = OUTLET
      Interface Boundary = Off
      Location = OUTFLOW
      BOUNDARY CONDITIONS:
        FLOW REGIME:
          Option = Subsonic
        END
        MASS AND MOMENTUM:
          Option = Average Static Pressure
          Pressure Profile Blend = 0.05
          Relative Pressure = 5.65 [bar]
        END
        PRESSURE AVERAGING:
          Option = Average Over Whole Outlet
        END
      END
    END
  END
END

>physicsupdate
TURBO POST DATA:
  Machine Type = Axial Compressor
  Component Order = IGV, R1, S1
  Flow Type = Compressible
  Reference Pressure = 0 [atm]
  Rotation Axis From = 0 [m], 0 [m], 0 [m]
  Rotation Axis To = 1 [m], 0 [m], 0 [m]
  TURBO POST COMPONENT: IGV
    Domain Name = IGV
    Domain Motion = Stationary
    Number of Components in 360 = 70
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 2
    Hub Region = HUB 2
    Shroud Region = SHROUD 2
    Inlet Region = INFLOW 2
    Outlet Region = OUTFLOW 2
    Periodic 1 Region = PER1 2
    Periodic 2 Region = PER2 2
  END
  TURBO POST COMPONENT: R1
    Domain Name = R1
    Domain Motion = Rotating
    Number of Components in 360 = 40
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 3
    Hub Region = HUB 3
    Shroud Region = SHROUD 3
    Inlet Region = INFLOW 3
    Outlet Region = OUTFLOW 3
    Periodic 1 Region = PER1 3
    Periodic 2 Region = PER2 3
  END
  TURBO POST COMPONENT: S1
    Domain Name = S1
    Domain Motion = Stationary
    Number of Components in 360 = 50
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE
    Hub Region = HUB
    Shroud Region = SHROUD
    Outlet Region = OUTFLOW
    Inlet Region = INFLOW
    Periodic 1 Region = PER1
    Periodic 2 Region = PER2
  END
END""")
setup1.SendCommand(Command=">delete /AXIS:TurboPre")
setup1.SendCommand(Command=">delete /ROTATION MARKER:Marker R1")
solutionComponent1.Reset()
solution1.SetExecutionControl(CCL=r"""&replace SIMULATION CONTROL:
  EXECUTION CONTROL:
    EXECUTABLE SELECTION:
      Double Precision = Off
      Large Problem = Off
    END
    INTERPOLATOR STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
    END
    PARTITIONER STEP CONTROL:
      Multidomain Option = Automatic
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARTITION SMOOTHING:
        Maximum Partition Smoothing Sweeps = 100
        Option = Smooth
      END
      PARTITIONING TYPE:
        MeTiS Type = k-way
        Option = MeTiS
        Partition Size Rule = Automatic
      END
    END
    RUN DEFINITION:
      Run Mode = Full
      Solver Input File = C:\Users\alebostr\Desktop\DT3_files\cfd\cfdrun_files\dp0\CFX\CFX\CFX.def
    END
    SOLVER STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARALLEL ENVIRONMENT:
        Number of Processes = 1
        Start Method = Serial
      END
    END
  END
END
""")
solutionComponent1.Update(Force=True)
solution1.Exit()
solutionComponent1.Reset()
setup1.Edit()
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.SendCommand(Command=""">delete /FLOW:Flow Analysis 1/DOMAIN:IGV,/FLOW:Flow Analysis 1/DOMAIN:R1,/FLOW:Flow Analysis 1/DOMAIN:S1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:IGV to IGV Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to IGV,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to R1 Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to R1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to S1 Periodic 1,/FLOW:Flow Analysis 1/ANALYSIS TYPE,/FLOW:Flow Analysis 1/OUTPUT CONTROL/MONITOR OBJECTS/EFFICIENCY OUTPUT,/FLOW:Flow Analysis 1/OUTPUT CONTROL/EFFICIENCY OUTPUT,/TURBO POST DATA,/FLOW:Flow Analysis 1/TRANSIENT BLADE ROW MODELS,/FLOW:Flow Analysis 1/OUTPUT CONTROL/TRANSIENT BLADE ROW OUTPUT
FLOW: Flow Analysis 1
  &replace DOMAIN INTERFACE: IGV to IGV Periodic 1
    Filter Domain List1 = IGV
    Filter Domain List2 = IGV
    Interface Region List1 = PER1 2
    Interface Region List2 = PER2 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: R1 to IGV
    Filter Domain List1 = R1
    Filter Domain List2 = IGV
    Interface Region List1 = INFLOW 3
    Interface Region List2 = OUTFLOW 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: R1 to R1 Periodic 1
    Filter Domain List1 = R1
    Filter Domain List2 = R1
    Interface Region List1 = PER1 3
    Interface Region List2 = PER2 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: S1 to R1
    Filter Domain List1 = S1
    Filter Domain List2 = R1
    Interface Region List1 = INFLOW
    Interface Region List2 = OUTFLOW 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: S1 to S1 Periodic 1
    Filter Domain List1 = S1
    Filter Domain List2 = S1
    Interface Region List1 = PER1
    Interface Region List2 = PER2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace SOLUTION UNITS:
    Angle Units = [rad]
    Length Units = [m]
    Mass Units = [kg]
    Solid Angle Units = [sr]
    Temperature Units = [K]
    Time Units = [s]
  END
  &replace SOLVER CONTROL:
    Turbulence Numerics = First Order
    ADVECTION SCHEME:
      Option = High Resolution
    END
    CONVERGENCE CONTROL:
      Length Scale Option = Conservative
      Maximum Number of Iterations = 100000
      Minimum Number of Iterations = 1
      Timescale Control = Auto Timescale
      Timescale Factor = 1.0
    END
    CONVERGENCE CRITERIA:
      Residual Target = 0.000001
      Residual Type = RMS
    END
    DYNAMIC MODEL CONTROL:
      Global Dynamic Model Control = On
    END
    INTERRUPT CONTROL:
      Option = Any Interrupt
      CONVERGENCE CONDITIONS:
        Option = Default Conditions
      END
    END
  END
  &replace ANALYSIS TYPE:
    Option = Steady State
    EXTERNAL SOLVER COUPLING:
      Option = None
    END
  END
  &replace OUTPUT CONTROL:
    MONITOR OBJECTS:
      MONITOR BALANCES:
        Option = Full
      END
      MONITOR FORCES:
        Option = Full
      END
      MONITOR PARTICLES:
        Option = Full
      END
      MONITOR POINT: monitorMassflow
        Coord Frame = Coord 0
        Expression Value = massflowExp
        Option = Expression
      END
      MONITOR RESIDUALS:
        Option = Full
      END
      MONITOR TOTALS:
        Option = Full
      END
      EFFICIENCY OUTPUT:
        Inflow Boundary = IGV Inlet
        Option = Output To Solver Monitor
        Outflow Boundary = S1 Outlet
      END
    END
    RESULTS:
      File Compression Level = Default
      Option = Standard
    END
  END
  &replace DOMAIN: IGV
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage 2
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    BOUNDARY: IGV Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: IGV Inlet
      Boundary Type = INLET
      Interface Boundary = Off
      Location = INFLOW 2
      BOUNDARY CONDITIONS:
        FLOW DIRECTION:
          Option = Normal to Boundary Condition
        END
        FLOW REGIME:
          Option = Subsonic
        END
        HEAT TRANSFER:
          Option = Total Temperature
          Total Temperature = 517.4 [K]
        END
        MASS AND MOMENTUM:
          Option = Total Pressure
          Relative Pressure = 386.451 [kPa]
        END
        TURBULENCE:
          Option = Medium Intensity and Eddy Viscosity Ratio
        END
      END
    END
  END
  &replace DOMAIN: R1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main 3
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    BOUNDARY: R1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = BLADE 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Hub
      Boundary Type = WALL
      Coord Frame = Coord 0
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = HUB 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = SHROUD 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
          WALL VELOCITY:
            Option = Counter Rotating Wall
          END
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Alternate Rotation Model = true
        Angular Velocity = -16170.4 [rev min^-1]
        Option = Rotating
        AXIS DEFINITION:
          Option = Coordinate Axis
          Rotation Axis = Coord 0.1
        END
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
  END
  &replace DOMAIN: S1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    BOUNDARY: S1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: S1 Outlet
      Boundary Type = OUTLET
      Interface Boundary = Off
      Location = OUTFLOW
      BOUNDARY CONDITIONS:
        FLOW REGIME:
          Option = Subsonic
        END
        MASS AND MOMENTUM:
          Option = Average Static Pressure
          Pressure Profile Blend = 0.05
          Relative Pressure = 5.62 [bar]
        END
        PRESSURE AVERAGING:
          Option = Average Over Whole Outlet
        END
      END
    END
  END
END

>physicsupdate
TURBO POST DATA:
  Machine Type = Axial Compressor
  Component Order = IGV, R1, S1
  Flow Type = Compressible
  Reference Pressure = 0 [atm]
  Rotation Axis From = 0 [m], 0 [m], 0 [m]
  Rotation Axis To = 1 [m], 0 [m], 0 [m]
  TURBO POST COMPONENT: IGV
    Domain Name = IGV
    Domain Motion = Stationary
    Number of Components in 360 = 70
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 2
    Hub Region = HUB 2
    Shroud Region = SHROUD 2
    Inlet Region = INFLOW 2
    Outlet Region = OUTFLOW 2
    Periodic 1 Region = PER1 2
    Periodic 2 Region = PER2 2
  END
  TURBO POST COMPONENT: R1
    Domain Name = R1
    Domain Motion = Rotating
    Number of Components in 360 = 40
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 3
    Hub Region = HUB 3
    Shroud Region = SHROUD 3
    Inlet Region = INFLOW 3
    Outlet Region = OUTFLOW 3
    Periodic 1 Region = PER1 3
    Periodic 2 Region = PER2 3
  END
  TURBO POST COMPONENT: S1
    Domain Name = S1
    Domain Motion = Stationary
    Number of Components in 360 = 50
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE
    Hub Region = HUB
    Shroud Region = SHROUD
    Outlet Region = OUTFLOW
    Inlet Region = INFLOW
    Periodic 1 Region = PER1
    Periodic 2 Region = PER2
  END
END""")
setup1.SendCommand(Command=">delete /AXIS:TurboPre")
setup1.SendCommand(Command=">delete /ROTATION MARKER:Marker R1")
solution1.Exit()
solutionComponent1.Reset()
setup1.Edit()
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.SendCommand(Command=""">delete /FLOW:Flow Analysis 1/DOMAIN:IGV,/FLOW:Flow Analysis 1/DOMAIN:R1,/FLOW:Flow Analysis 1/DOMAIN:S1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:IGV to IGV Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to IGV,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to R1 Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to R1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to S1 Periodic 1,/FLOW:Flow Analysis 1/ANALYSIS TYPE,/FLOW:Flow Analysis 1/OUTPUT CONTROL/MONITOR OBJECTS/EFFICIENCY OUTPUT,/FLOW:Flow Analysis 1/OUTPUT CONTROL/EFFICIENCY OUTPUT,/TURBO POST DATA,/FLOW:Flow Analysis 1/TRANSIENT BLADE ROW MODELS,/FLOW:Flow Analysis 1/OUTPUT CONTROL/TRANSIENT BLADE ROW OUTPUT
FLOW: Flow Analysis 1
  &replace DOMAIN INTERFACE: IGV to IGV Periodic 1
    Filter Domain List1 = IGV
    Filter Domain List2 = IGV
    Interface Region List1 = PER1 2
    Interface Region List2 = PER2 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: R1 to IGV
    Filter Domain List1 = R1
    Filter Domain List2 = IGV
    Interface Region List1 = INFLOW 3
    Interface Region List2 = OUTFLOW 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: R1 to R1 Periodic 1
    Filter Domain List1 = R1
    Filter Domain List2 = R1
    Interface Region List1 = PER1 3
    Interface Region List2 = PER2 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: S1 to R1
    Filter Domain List1 = S1
    Filter Domain List2 = R1
    Interface Region List1 = INFLOW
    Interface Region List2 = OUTFLOW 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: S1 to S1 Periodic 1
    Filter Domain List1 = S1
    Filter Domain List2 = S1
    Interface Region List1 = PER1
    Interface Region List2 = PER2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace SOLUTION UNITS:
    Angle Units = [rad]
    Length Units = [m]
    Mass Units = [kg]
    Solid Angle Units = [sr]
    Temperature Units = [K]
    Time Units = [s]
  END
  &replace SOLVER CONTROL:
    Turbulence Numerics = First Order
    ADVECTION SCHEME:
      Option = High Resolution
    END
    CONVERGENCE CONTROL:
      Length Scale Option = Conservative
      Maximum Number of Iterations = 100000
      Minimum Number of Iterations = 1
      Timescale Control = Auto Timescale
      Timescale Factor = 1.0
    END
    CONVERGENCE CRITERIA:
      Residual Target = 0.000001
      Residual Type = RMS
    END
    DYNAMIC MODEL CONTROL:
      Global Dynamic Model Control = On
    END
    INTERRUPT CONTROL:
      Option = Any Interrupt
      CONVERGENCE CONDITIONS:
        Option = Default Conditions
      END
    END
  END
  &replace ANALYSIS TYPE:
    Option = Steady State
    EXTERNAL SOLVER COUPLING:
      Option = None
    END
  END
  &replace OUTPUT CONTROL:
    MONITOR OBJECTS:
      MONITOR BALANCES:
        Option = Full
      END
      MONITOR FORCES:
        Option = Full
      END
      MONITOR PARTICLES:
        Option = Full
      END
      MONITOR POINT: monitorMassflow
        Coord Frame = Coord 0
        Expression Value = massflowExp
        Option = Expression
      END
      MONITOR RESIDUALS:
        Option = Full
      END
      MONITOR TOTALS:
        Option = Full
      END
      EFFICIENCY OUTPUT:
        Inflow Boundary = IGV Inlet
        Option = Output To Solver Monitor
        Outflow Boundary = S1 Outlet
      END
    END
    RESULTS:
      File Compression Level = Default
      Option = Standard
    END
  END
  &replace DOMAIN: IGV
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage 2
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    BOUNDARY: IGV Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: IGV Inlet
      Boundary Type = INLET
      Interface Boundary = Off
      Location = INFLOW 2
      BOUNDARY CONDITIONS:
        FLOW DIRECTION:
          Option = Normal to Boundary Condition
        END
        FLOW REGIME:
          Option = Subsonic
        END
        HEAT TRANSFER:
          Option = Total Temperature
          Total Temperature = 517.4 [K]
        END
        MASS AND MOMENTUM:
          Option = Total Pressure
          Relative Pressure = 386.451 [kPa]
        END
        TURBULENCE:
          Option = Medium Intensity and Eddy Viscosity Ratio
        END
      END
    END
  END
  &replace DOMAIN: R1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main 3
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    BOUNDARY: R1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = BLADE 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Hub
      Boundary Type = WALL
      Coord Frame = Coord 0
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = HUB 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = SHROUD 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
          WALL VELOCITY:
            Option = Counter Rotating Wall
          END
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Alternate Rotation Model = true
        Angular Velocity = -16170.4 [rev min^-1]
        Option = Rotating
        AXIS DEFINITION:
          Option = Coordinate Axis
          Rotation Axis = Coord 0.1
        END
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
  END
  &replace DOMAIN: S1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    BOUNDARY: S1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: S1 Outlet
      Boundary Type = OUTLET
      Interface Boundary = Off
      Location = OUTFLOW
      BOUNDARY CONDITIONS:
        FLOW REGIME:
          Option = Subsonic
        END
        MASS AND MOMENTUM:
          Option = Average Static Pressure
          Pressure Profile Blend = 0.05
          Relative Pressure = 5.62 [bar]
        END
        PRESSURE AVERAGING:
          Option = Average Over Whole Outlet
        END
      END
    END
  END
END

>physicsupdate
TURBO POST DATA:
  Machine Type = Axial Compressor
  Component Order = IGV, R1, S1
  Flow Type = Compressible
  Reference Pressure = 0 [atm]
  Rotation Axis From = 0 [m], 0 [m], 0 [m]
  Rotation Axis To = 1 [m], 0 [m], 0 [m]
  TURBO POST COMPONENT: IGV
    Domain Name = IGV
    Domain Motion = Stationary
    Number of Components in 360 = 70
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 2
    Hub Region = HUB 2
    Shroud Region = SHROUD 2
    Inlet Region = INFLOW 2
    Outlet Region = OUTFLOW 2
    Periodic 1 Region = PER1 2
    Periodic 2 Region = PER2 2
  END
  TURBO POST COMPONENT: R1
    Domain Name = R1
    Domain Motion = Rotating
    Number of Components in 360 = 40
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 3
    Hub Region = HUB 3
    Shroud Region = SHROUD 3
    Inlet Region = INFLOW 3
    Outlet Region = OUTFLOW 3
    Periodic 1 Region = PER1 3
    Periodic 2 Region = PER2 3
  END
  TURBO POST COMPONENT: S1
    Domain Name = S1
    Domain Motion = Stationary
    Number of Components in 360 = 50
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE
    Hub Region = HUB
    Shroud Region = SHROUD
    Outlet Region = OUTFLOW
    Inlet Region = INFLOW
    Periodic 1 Region = PER1
    Periodic 2 Region = PER2
  END
END""")
setup1.SendCommand(Command=">delete /AXIS:TurboPre")
setup1.SendCommand(Command=">delete /ROTATION MARKER:Marker R1")
solutionComponent1.Reset()
solution1.SetExecutionControl(CCL=r"""&replace SIMULATION CONTROL:
  EXECUTION CONTROL:
    EXECUTABLE SELECTION:
      Double Precision = Off
      Large Problem = Off
    END
    INTERPOLATOR STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
    END
    PARTITIONER STEP CONTROL:
      Multidomain Option = Automatic
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARTITION SMOOTHING:
        Maximum Partition Smoothing Sweeps = 100
        Option = Smooth
      END
      PARTITIONING TYPE:
        MeTiS Type = k-way
        Option = MeTiS
        Partition Size Rule = Automatic
      END
    END
    RUN DEFINITION:
      Run Mode = Full
      Solver Input File = C:\Users\alebostr\Desktop\DT3_files\cfd\cfdrun_files\dp0\CFX\CFX\CFX.def
    END
    SOLVER STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARALLEL ENVIRONMENT:
        Number of Processes = 1
        Start Method = Serial
      END
    END
  END
END
""")
solutionComponent1.Update(Force=True)
solution1.Exit()
solutionComponent1.Clean()
setup1.Edit()
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.SendCommand(Command=""">delete /FLOW:Flow Analysis 1/DOMAIN:IGV,/FLOW:Flow Analysis 1/DOMAIN:R1,/FLOW:Flow Analysis 1/DOMAIN:S1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:IGV to IGV Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to IGV,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to R1 Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to R1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to S1 Periodic 1,/FLOW:Flow Analysis 1/ANALYSIS TYPE,/FLOW:Flow Analysis 1/OUTPUT CONTROL/MONITOR OBJECTS/EFFICIENCY OUTPUT,/FLOW:Flow Analysis 1/OUTPUT CONTROL/EFFICIENCY OUTPUT,/TURBO POST DATA,/FLOW:Flow Analysis 1/TRANSIENT BLADE ROW MODELS,/FLOW:Flow Analysis 1/OUTPUT CONTROL/TRANSIENT BLADE ROW OUTPUT
FLOW: Flow Analysis 1
  &replace DOMAIN INTERFACE: IGV to IGV Periodic 1
    Filter Domain List1 = IGV
    Filter Domain List2 = IGV
    Interface Region List1 = PER1 2
    Interface Region List2 = PER2 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: R1 to IGV
    Filter Domain List1 = R1
    Filter Domain List2 = IGV
    Interface Region List1 = INFLOW 3
    Interface Region List2 = OUTFLOW 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: R1 to R1 Periodic 1
    Filter Domain List1 = R1
    Filter Domain List2 = R1
    Interface Region List1 = PER1 3
    Interface Region List2 = PER2 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: S1 to R1
    Filter Domain List1 = S1
    Filter Domain List2 = R1
    Interface Region List1 = INFLOW
    Interface Region List2 = OUTFLOW 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: S1 to S1 Periodic 1
    Filter Domain List1 = S1
    Filter Domain List2 = S1
    Interface Region List1 = PER1
    Interface Region List2 = PER2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace SOLUTION UNITS:
    Angle Units = [rad]
    Length Units = [m]
    Mass Units = [kg]
    Solid Angle Units = [sr]
    Temperature Units = [K]
    Time Units = [s]
  END
  &replace SOLVER CONTROL:
    Turbulence Numerics = First Order
    ADVECTION SCHEME:
      Option = High Resolution
    END
    CONVERGENCE CONTROL:
      Length Scale Option = Conservative
      Maximum Number of Iterations = 100000
      Minimum Number of Iterations = 1
      Timescale Control = Auto Timescale
      Timescale Factor = 1.0
    END
    CONVERGENCE CRITERIA:
      Residual Target = 0.000001
      Residual Type = RMS
    END
    DYNAMIC MODEL CONTROL:
      Global Dynamic Model Control = On
    END
    INTERRUPT CONTROL:
      Option = Any Interrupt
      CONVERGENCE CONDITIONS:
        Option = Default Conditions
      END
    END
  END
  &replace ANALYSIS TYPE:
    Option = Steady State
    EXTERNAL SOLVER COUPLING:
      Option = None
    END
  END
  &replace OUTPUT CONTROL:
    MONITOR OBJECTS:
      MONITOR BALANCES:
        Option = Full
      END
      MONITOR FORCES:
        Option = Full
      END
      MONITOR PARTICLES:
        Option = Full
      END
      MONITOR POINT: monitorMassflow
        Coord Frame = Coord 0
        Expression Value = massflowExp
        Option = Expression
      END
      MONITOR RESIDUALS:
        Option = Full
      END
      MONITOR TOTALS:
        Option = Full
      END
      EFFICIENCY OUTPUT:
        Inflow Boundary = IGV Inlet
        Option = Output To Solver Monitor
        Outflow Boundary = S1 Outlet
      END
    END
    RESULTS:
      File Compression Level = Default
      Option = Standard
    END
  END
  &replace DOMAIN: IGV
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage 2
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    BOUNDARY: IGV Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: IGV Inlet
      Boundary Type = INLET
      Interface Boundary = Off
      Location = INFLOW 2
      BOUNDARY CONDITIONS:
        FLOW DIRECTION:
          Option = Normal to Boundary Condition
        END
        FLOW REGIME:
          Option = Subsonic
        END
        HEAT TRANSFER:
          Option = Total Temperature
          Total Temperature = 517.4 [K]
        END
        MASS AND MOMENTUM:
          Option = Total Pressure
          Relative Pressure = 386.451 [kPa]
        END
        TURBULENCE:
          Option = Medium Intensity and Eddy Viscosity Ratio
        END
      END
    END
  END
  &replace DOMAIN: R1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main 3
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    BOUNDARY: R1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = BLADE 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Hub
      Boundary Type = WALL
      Coord Frame = Coord 0
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = HUB 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = SHROUD 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
          WALL VELOCITY:
            Option = Counter Rotating Wall
          END
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Alternate Rotation Model = true
        Angular Velocity = -16170.4 [rev min^-1]
        Option = Rotating
        AXIS DEFINITION:
          Option = Coordinate Axis
          Rotation Axis = Coord 0.1
        END
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
  END
  &replace DOMAIN: S1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    BOUNDARY: S1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: S1 Outlet
      Boundary Type = OUTLET
      Interface Boundary = Off
      Location = OUTFLOW
      BOUNDARY CONDITIONS:
        FLOW REGIME:
          Option = Subsonic
        END
        MASS AND MOMENTUM:
          Option = Average Static Pressure
          Pressure Profile Blend = 0.05
          Relative Pressure = 5.61 [bar]
        END
        PRESSURE AVERAGING:
          Option = Average Over Whole Outlet
        END
      END
    END
  END
END

>physicsupdate
TURBO POST DATA:
  Machine Type = Axial Compressor
  Component Order = IGV, R1, S1
  Flow Type = Compressible
  Reference Pressure = 0 [atm]
  Rotation Axis From = 0 [m], 0 [m], 0 [m]
  Rotation Axis To = 1 [m], 0 [m], 0 [m]
  TURBO POST COMPONENT: IGV
    Domain Name = IGV
    Domain Motion = Stationary
    Number of Components in 360 = 70
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 2
    Hub Region = HUB 2
    Shroud Region = SHROUD 2
    Inlet Region = INFLOW 2
    Outlet Region = OUTFLOW 2
    Periodic 1 Region = PER1 2
    Periodic 2 Region = PER2 2
  END
  TURBO POST COMPONENT: R1
    Domain Name = R1
    Domain Motion = Rotating
    Number of Components in 360 = 40
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 3
    Hub Region = HUB 3
    Shroud Region = SHROUD 3
    Inlet Region = INFLOW 3
    Outlet Region = OUTFLOW 3
    Periodic 1 Region = PER1 3
    Periodic 2 Region = PER2 3
  END
  TURBO POST COMPONENT: S1
    Domain Name = S1
    Domain Motion = Stationary
    Number of Components in 360 = 50
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE
    Hub Region = HUB
    Shroud Region = SHROUD
    Outlet Region = OUTFLOW
    Inlet Region = INFLOW
    Periodic 1 Region = PER1
    Periodic 2 Region = PER2
  END
END""")
setup1.SendCommand(Command=">delete /AXIS:TurboPre")
setup1.SendCommand(Command=">delete /ROTATION MARKER:Marker R1")
solution1.SetExecutionControl(CCL=r"""&replace SIMULATION CONTROL:
  EXECUTION CONTROL:
    EXECUTABLE SELECTION:
      Double Precision = Off
      Large Problem = Off
    END
    INTERPOLATOR STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
    END
    PARTITIONER STEP CONTROL:
      Multidomain Option = Automatic
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARTITION SMOOTHING:
        Maximum Partition Smoothing Sweeps = 100
        Option = Smooth
      END
      PARTITIONING TYPE:
        MeTiS Type = k-way
        Option = MeTiS
        Partition Size Rule = Automatic
      END
    END
    RUN DEFINITION:
      Run Mode = Full
      Solver Input File = C:\Users\alebostr\Desktop\DT3_files\cfd\cfdrun_files\dp0\CFX\CFX\CFX.def
    END
    SOLVER STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARALLEL ENVIRONMENT:
        Number of Processes = 1
        Start Method = Serial
      END
    END
  END
END
""")
solutionComponent1.Update(Force=True)
solution1.Exit()
setup1.Edit()
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.Exit()
results1.Edit()
results1.SendCommand(Command="""VIEW:View 1
  Light Angle = 50, 110
END

VIEW:View 2
  Light Angle = 50, 110
END

VIEW:View 3
  Light Angle = 50, 110
END

VIEW:View 4
  Light Angle = 50, 110
END

> update
>report save, format=preview""")
results1.Exit()
solution1.MarkUpToDate()
results1.Edit()
results1.SendCommand(Command="""VIEW:View 1
  Light Angle = 50, 110
END

VIEW:View 2
  Light Angle = 50, 110
END

VIEW:View 3
  Light Angle = 50, 110
END

VIEW:View 4
  Light Angle = 50, 110
END

> update
>report save, format=preview""")
results1.Exit()
setup1.Edit()
setup1.SendCommand(Command="""VIEW:View 1
  Camera Mode = User Specified
  CAMERA:
    Option = Pivot Point and Quaternion
    Pivot Point = 0.0482722, 0.272199, 0.0259069
    Scale = 11.0651
    Pan = 0, 0
    Rotation Quaternion = 0.117843, 0.0518616, -0.117424, 0.984777
    
  END

END

VIEW:View 1
  Light Angle = 50, 110
END

> update
ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command=""">delete /FLOW:Flow Analysis 1/DOMAIN:IGV,/FLOW:Flow Analysis 1/DOMAIN:R1,/FLOW:Flow Analysis 1/DOMAIN:S1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:IGV to IGV Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to IGV,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to R1 Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to R1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to S1 Periodic 1,/FLOW:Flow Analysis 1/ANALYSIS TYPE,/FLOW:Flow Analysis 1/OUTPUT CONTROL/MONITOR OBJECTS/EFFICIENCY OUTPUT,/FLOW:Flow Analysis 1/OUTPUT CONTROL/EFFICIENCY OUTPUT,/TURBO POST DATA,/FLOW:Flow Analysis 1/TRANSIENT BLADE ROW MODELS,/FLOW:Flow Analysis 1/OUTPUT CONTROL/TRANSIENT BLADE ROW OUTPUT
FLOW: Flow Analysis 1
  &replace DOMAIN INTERFACE: IGV to IGV Periodic 1
    Filter Domain List1 = IGV
    Filter Domain List2 = IGV
    Interface Region List1 = PER1 2
    Interface Region List2 = PER2 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: R1 to IGV
    Filter Domain List1 = R1
    Filter Domain List2 = IGV
    Interface Region List1 = INFLOW 3
    Interface Region List2 = OUTFLOW 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: R1 to R1 Periodic 1
    Filter Domain List1 = R1
    Filter Domain List2 = R1
    Interface Region List1 = PER1 3
    Interface Region List2 = PER2 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: S1 to R1
    Filter Domain List1 = S1
    Filter Domain List2 = R1
    Interface Region List1 = INFLOW
    Interface Region List2 = OUTFLOW 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: S1 to S1 Periodic 1
    Filter Domain List1 = S1
    Filter Domain List2 = S1
    Interface Region List1 = PER1
    Interface Region List2 = PER2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace SOLUTION UNITS:
    Angle Units = [rad]
    Length Units = [m]
    Mass Units = [kg]
    Solid Angle Units = [sr]
    Temperature Units = [K]
    Time Units = [s]
  END
  &replace SOLVER CONTROL:
    Turbulence Numerics = First Order
    ADVECTION SCHEME:
      Option = High Resolution
    END
    CONVERGENCE CONTROL:
      Length Scale Option = Conservative
      Maximum Number of Iterations = 100000
      Minimum Number of Iterations = 1
      Timescale Control = Auto Timescale
      Timescale Factor = 1.0
    END
    CONVERGENCE CRITERIA:
      Residual Target = 0.000001
      Residual Type = RMS
    END
    DYNAMIC MODEL CONTROL:
      Global Dynamic Model Control = On
    END
    INTERRUPT CONTROL:
      Option = Any Interrupt
      CONVERGENCE CONDITIONS:
        Option = Default Conditions
      END
    END
  END
  &replace ANALYSIS TYPE:
    Option = Steady State
    EXTERNAL SOLVER COUPLING:
      Option = None
    END
  END
  &replace OUTPUT CONTROL:
    MONITOR OBJECTS:
      MONITOR BALANCES:
        Option = Full
      END
      MONITOR FORCES:
        Option = Full
      END
      MONITOR PARTICLES:
        Option = Full
      END
      MONITOR POINT: monitorMassflow
        Coord Frame = Coord 0
        Expression Value = massflowExp
        Option = Expression
      END
      MONITOR RESIDUALS:
        Option = Full
      END
      MONITOR TOTALS:
        Option = Full
      END
      EFFICIENCY OUTPUT:
        Inflow Boundary = IGV Inlet
        Option = Output To Solver Monitor
        Outflow Boundary = S1 Outlet
      END
    END
    RESULTS:
      File Compression Level = Default
      Option = Standard
    END
  END
  &replace DOMAIN: IGV
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage 2
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    BOUNDARY: IGV Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: IGV Inlet
      Boundary Type = INLET
      Interface Boundary = Off
      Location = INFLOW 2
      BOUNDARY CONDITIONS:
        FLOW DIRECTION:
          Option = Normal to Boundary Condition
        END
        FLOW REGIME:
          Option = Subsonic
        END
        HEAT TRANSFER:
          Option = Total Temperature
          Total Temperature = 517.4 [K]
        END
        MASS AND MOMENTUM:
          Option = Total Pressure
          Relative Pressure = 386.451 [kPa]
        END
        TURBULENCE:
          Option = Medium Intensity and Eddy Viscosity Ratio
        END
      END
    END
  END
  &replace DOMAIN: R1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main 3
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    BOUNDARY: R1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = BLADE 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Hub
      Boundary Type = WALL
      Coord Frame = Coord 0
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = HUB 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Alternate Rotation Model = true
        Angular Velocity = -16170.4 [rev min^-1]
        Option = Rotating
        AXIS DEFINITION:
          Option = Coordinate Axis
          Rotation Axis = Coord 0.1
        END
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: R1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = SHROUD 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
          WALL VELOCITY:
            Option = Counter Rotating Wall
          END
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
  END
  &replace DOMAIN: S1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    BOUNDARY: S1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: S1 Outlet
      Boundary Type = OUTLET
      Interface Boundary = Off
      Location = OUTFLOW
      BOUNDARY CONDITIONS:
        FLOW REGIME:
          Option = Subsonic
        END
        MASS AND MOMENTUM:
          Option = Average Static Pressure
          Pressure Profile Blend = 0.05
          Relative Pressure = 5.65 [bar]
        END
        PRESSURE AVERAGING:
          Option = Average Over Whole Outlet
        END
      END
    END
  END
END

>physicsupdate
TURBO POST DATA:
  Machine Type = Axial Compressor
  Component Order = IGV, R1, S1
  Flow Type = Compressible
  Reference Pressure = 0 [atm]
  Rotation Axis From = 0 [m], 0 [m], 0 [m]
  Rotation Axis To = 1 [m], 0 [m], 0 [m]
  TURBO POST COMPONENT: IGV
    Domain Name = IGV
    Domain Motion = Stationary
    Number of Components in 360 = 70
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 2
    Hub Region = HUB 2
    Shroud Region = SHROUD 2
    Inlet Region = INFLOW 2
    Outlet Region = OUTFLOW 2
    Periodic 1 Region = PER1 2
    Periodic 2 Region = PER2 2
  END
  TURBO POST COMPONENT: R1
    Domain Name = R1
    Domain Motion = Rotating
    Number of Components in 360 = 40
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 3
    Hub Region = HUB 3
    Shroud Region = SHROUD 3
    Inlet Region = INFLOW 3
    Outlet Region = OUTFLOW 3
    Periodic 1 Region = PER1 3
    Periodic 2 Region = PER2 3
  END
  TURBO POST COMPONENT: S1
    Domain Name = S1
    Domain Motion = Stationary
    Number of Components in 360 = 50
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE
    Hub Region = HUB
    Shroud Region = SHROUD
    Outlet Region = OUTFLOW
    Inlet Region = INFLOW
    Periodic 1 Region = PER1
    Periodic 2 Region = PER2
  END
END""")
setup1.SendCommand(Command=">delete /AXIS:TurboPre")
setup1.SendCommand(Command=">delete /ROTATION MARKER:Marker R1")
solutionComponent1.Reset()
solution1.SetExecutionControl(CCL=r"""&replace SIMULATION CONTROL:
  EXECUTION CONTROL:
    EXECUTABLE SELECTION:
      Double Precision = Off
      Large Problem = Off
    END
    INTERPOLATOR STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
    END
    PARTITIONER STEP CONTROL:
      Multidomain Option = Automatic
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARTITION SMOOTHING:
        Maximum Partition Smoothing Sweeps = 100
        Option = Smooth
      END
      PARTITIONING TYPE:
        MeTiS Type = k-way
        Option = MeTiS
        Partition Size Rule = Automatic
      END
    END
    RUN DEFINITION:
      Run Mode = Full
      Solver Input File = C:\Users\alebostr\Desktop\DT3_files\cfd\cfdrun_files\dp0\CFX\CFX\CFX.def
    END
    SOLVER STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARALLEL ENVIRONMENT:
        Number of Processes = 1
        Start Method = Serial
      END
    END
  END
END
""")
solutionComponent1.Update(Force=True)
solution1.Exit()
solutionComponent1.Reset()
setup1.Edit()
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command=""">delete /FLOW:Flow Analysis 1/DOMAIN:IGV,/FLOW:Flow Analysis 1/DOMAIN:R1,/FLOW:Flow Analysis 1/DOMAIN:S1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:IGV to IGV Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to IGV,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to R1 Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to R1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to S1 Periodic 1,/FLOW:Flow Analysis 1/ANALYSIS TYPE,/FLOW:Flow Analysis 1/OUTPUT CONTROL/MONITOR OBJECTS/EFFICIENCY OUTPUT,/FLOW:Flow Analysis 1/OUTPUT CONTROL/EFFICIENCY OUTPUT,/TURBO POST DATA,/FLOW:Flow Analysis 1/TRANSIENT BLADE ROW MODELS,/FLOW:Flow Analysis 1/OUTPUT CONTROL/TRANSIENT BLADE ROW OUTPUT
FLOW: Flow Analysis 1
  &replace SOLUTION UNITS:
    Angle Units = [rad]
    Length Units = [m]
    Mass Units = [kg]
    Solid Angle Units = [sr]
    Temperature Units = [K]
    Time Units = [s]
  END
  &replace SOLVER CONTROL:
    Turbulence Numerics = First Order
    ADVECTION SCHEME:
      Option = High Resolution
    END
    CONVERGENCE CONTROL:
      Length Scale Option = Conservative
      Maximum Number of Iterations = 100000
      Minimum Number of Iterations = 1
      Timescale Control = Auto Timescale
      Timescale Factor = 1.0
    END
    CONVERGENCE CRITERIA:
      Residual Target = 0.000001
      Residual Type = RMS
    END
    DYNAMIC MODEL CONTROL:
      Global Dynamic Model Control = On
    END
    INTERRUPT CONTROL:
      Option = Any Interrupt
      CONVERGENCE CONDITIONS:
        Option = Default Conditions
      END
    END
  END
  &replace ANALYSIS TYPE:
    Option = Steady State
    EXTERNAL SOLVER COUPLING:
      Option = None
    END
  END
  &replace OUTPUT CONTROL:
    MONITOR OBJECTS:
      MONITOR BALANCES:
        Option = Full
      END
      MONITOR FORCES:
        Option = Full
      END
      MONITOR PARTICLES:
        Option = Full
      END
      MONITOR POINT: monitorMassflow
        Coord Frame = Coord 0
        Expression Value = massflowExp
        Option = Expression
      END
      MONITOR RESIDUALS:
        Option = Full
      END
      MONITOR TOTALS:
        Option = Full
      END
      EFFICIENCY OUTPUT:
        Inflow Boundary = IGV Inlet
        Option = Output To Solver Monitor
        Outflow Boundary = S1 Outlet
      END
    END
    RESULTS:
      File Compression Level = Default
      Option = Standard
    END
  END
  &replace DOMAIN: IGV
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage 2
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    BOUNDARY: IGV Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: IGV Inlet
      Boundary Type = INLET
      Interface Boundary = Off
      Location = INFLOW 2
      BOUNDARY CONDITIONS:
        FLOW DIRECTION:
          Option = Normal to Boundary Condition
        END
        FLOW REGIME:
          Option = Subsonic
        END
        HEAT TRANSFER:
          Option = Total Temperature
          Total Temperature = 517.4 [K]
        END
        MASS AND MOMENTUM:
          Option = Total Pressure
          Relative Pressure = 386.451 [kPa]
        END
        TURBULENCE:
          Option = Medium Intensity and Eddy Viscosity Ratio
        END
      END
    END
  END
  &replace DOMAIN: R1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main 3
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    BOUNDARY: R1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = BLADE 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Hub
      Boundary Type = WALL
      Coord Frame = Coord 0
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = HUB 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Alternate Rotation Model = true
        Angular Velocity = -16170.4 [rev min^-1]
        Option = Rotating
        AXIS DEFINITION:
          Option = Coordinate Axis
          Rotation Axis = Coord 0.1
        END
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: R1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = SHROUD 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
          WALL VELOCITY:
            Option = Counter Rotating Wall
          END
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
  END
  &replace DOMAIN: S1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    BOUNDARY: S1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: S1 Outlet
      Boundary Type = OUTLET
      Interface Boundary = Off
      Location = OUTFLOW
      BOUNDARY CONDITIONS:
        FLOW REGIME:
          Option = Subsonic
        END
        MASS AND MOMENTUM:
          Option = Average Static Pressure
          Pressure Profile Blend = 0.05
          Relative Pressure = 4 [bar]
        END
        PRESSURE AVERAGING:
          Option = Average Over Whole Outlet
        END
      END
    END
  END
  &replace DOMAIN INTERFACE: IGV to IGV Periodic 1
    Filter Domain List1 = IGV
    Filter Domain List2 = IGV
    Interface Region List1 = PER1 2
    Interface Region List2 = PER2 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: R1 to IGV
    Filter Domain List1 = R1
    Filter Domain List2 = IGV
    Interface Region List1 = INFLOW 3
    Interface Region List2 = OUTFLOW 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: R1 to R1 Periodic 1
    Filter Domain List1 = R1
    Filter Domain List2 = R1
    Interface Region List1 = PER1 3
    Interface Region List2 = PER2 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: S1 to R1
    Filter Domain List1 = S1
    Filter Domain List2 = R1
    Interface Region List1 = INFLOW
    Interface Region List2 = OUTFLOW 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: S1 to S1 Periodic 1
    Filter Domain List1 = S1
    Filter Domain List2 = S1
    Interface Region List1 = PER1
    Interface Region List2 = PER2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
END

>physicsupdate
TURBO POST DATA:
  Machine Type = Axial Compressor
  Component Order = IGV, R1, S1
  Flow Type = Compressible
  Reference Pressure = 0 [atm]
  Rotation Axis From = 0 [m], 0 [m], 0 [m]
  Rotation Axis To = 1 [m], 0 [m], 0 [m]
  TURBO POST COMPONENT: IGV
    Domain Name = IGV
    Domain Motion = Stationary
    Number of Components in 360 = 70
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 2
    Hub Region = HUB 2
    Shroud Region = SHROUD 2
    Inlet Region = INFLOW 2
    Outlet Region = OUTFLOW 2
    Periodic 1 Region = PER1 2
    Periodic 2 Region = PER2 2
  END
  TURBO POST COMPONENT: R1
    Domain Name = R1
    Domain Motion = Rotating
    Number of Components in 360 = 40
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 3
    Hub Region = HUB 3
    Shroud Region = SHROUD 3
    Inlet Region = INFLOW 3
    Outlet Region = OUTFLOW 3
    Periodic 1 Region = PER1 3
    Periodic 2 Region = PER2 3
  END
  TURBO POST COMPONENT: S1
    Domain Name = S1
    Domain Motion = Stationary
    Number of Components in 360 = 50
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE
    Hub Region = HUB
    Shroud Region = SHROUD
    Outlet Region = OUTFLOW
    Inlet Region = INFLOW
    Periodic 1 Region = PER1
    Periodic 2 Region = PER2
  END
END""")
setup1.SendCommand(Command=">delete /AXIS:TurboPre")
setup1.SendCommand(Command=">delete /ROTATION MARKER:Marker R1")
solution1.SetExecutionControl(CCL=r"""&replace SIMULATION CONTROL:
  EXECUTION CONTROL:
    EXECUTABLE SELECTION:
      Double Precision = Off
      Large Problem = Off
    END
    INTERPOLATOR STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
    END
    PARTITIONER STEP CONTROL:
      Multidomain Option = Automatic
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARTITION SMOOTHING:
        Maximum Partition Smoothing Sweeps = 100
        Option = Smooth
      END
      PARTITIONING TYPE:
        MeTiS Type = k-way
        Option = MeTiS
        Partition Size Rule = Automatic
      END
    END
    RUN DEFINITION:
      Run Mode = Full
      Solver Input File = C:\Users\alebostr\Desktop\DT3_files\cfd\cfdrun_files\dp0\CFX\CFX\CFX.def
    END
    SOLVER STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARALLEL ENVIRONMENT:
        Number of Processes = 1
        Start Method = Serial
      END
    END
  END
END
""")
solutionComponent1.Update(Force=True)
solution1.MarkUpToDate()
results1.Edit()
results1.SendCommand(Command=">report save, format=preview")
setup1.Edit()
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command=""">delete /FLOW:Flow Analysis 1/DOMAIN:IGV,/FLOW:Flow Analysis 1/DOMAIN:R1,/FLOW:Flow Analysis 1/DOMAIN:S1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:IGV to IGV Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to IGV,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to R1 Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to R1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to S1 Periodic 1,/FLOW:Flow Analysis 1/ANALYSIS TYPE,/FLOW:Flow Analysis 1/OUTPUT CONTROL/MONITOR OBJECTS/EFFICIENCY OUTPUT,/FLOW:Flow Analysis 1/OUTPUT CONTROL/EFFICIENCY OUTPUT,/TURBO POST DATA,/FLOW:Flow Analysis 1/TRANSIENT BLADE ROW MODELS,/FLOW:Flow Analysis 1/OUTPUT CONTROL/TRANSIENT BLADE ROW OUTPUT
FLOW: Flow Analysis 1
  &replace DOMAIN INTERFACE: IGV to IGV Periodic 1
    Filter Domain List1 = IGV
    Filter Domain List2 = IGV
    Interface Region List1 = PER1 2
    Interface Region List2 = PER2 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: R1 to IGV
    Filter Domain List1 = R1
    Filter Domain List2 = IGV
    Interface Region List1 = INFLOW 3
    Interface Region List2 = OUTFLOW 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: R1 to R1 Periodic 1
    Filter Domain List1 = R1
    Filter Domain List2 = R1
    Interface Region List1 = PER1 3
    Interface Region List2 = PER2 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: S1 to R1
    Filter Domain List1 = S1
    Filter Domain List2 = R1
    Interface Region List1 = INFLOW
    Interface Region List2 = OUTFLOW 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: S1 to S1 Periodic 1
    Filter Domain List1 = S1
    Filter Domain List2 = S1
    Interface Region List1 = PER1
    Interface Region List2 = PER2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace SOLUTION UNITS:
    Angle Units = [rad]
    Length Units = [m]
    Mass Units = [kg]
    Solid Angle Units = [sr]
    Temperature Units = [K]
    Time Units = [s]
  END
  &replace SOLVER CONTROL:
    Turbulence Numerics = First Order
    ADVECTION SCHEME:
      Option = High Resolution
    END
    CONVERGENCE CONTROL:
      Length Scale Option = Conservative
      Maximum Number of Iterations = 100000
      Minimum Number of Iterations = 1
      Timescale Control = Auto Timescale
      Timescale Factor = 1.0
    END
    CONVERGENCE CRITERIA:
      Residual Target = 0.000001
      Residual Type = RMS
    END
    DYNAMIC MODEL CONTROL:
      Global Dynamic Model Control = On
    END
    INTERRUPT CONTROL:
      Option = Any Interrupt
      CONVERGENCE CONDITIONS:
        Option = Default Conditions
      END
    END
  END
  &replace ANALYSIS TYPE:
    Option = Steady State
    EXTERNAL SOLVER COUPLING:
      Option = None
    END
  END
  &replace OUTPUT CONTROL:
    MONITOR OBJECTS:
      MONITOR BALANCES:
        Option = Full
      END
      MONITOR FORCES:
        Option = Full
      END
      MONITOR PARTICLES:
        Option = Full
      END
      MONITOR POINT: monitorMassflow
        Coord Frame = Coord 0
        Expression Value = massflowExp
        Option = Expression
      END
      MONITOR RESIDUALS:
        Option = Full
      END
      MONITOR TOTALS:
        Option = Full
      END
      EFFICIENCY OUTPUT:
        Inflow Boundary = IGV Inlet
        Option = Output To Solver Monitor
        Outflow Boundary = S1 Outlet
      END
    END
    RESULTS:
      File Compression Level = Default
      Option = Standard
    END
  END
  &replace DOMAIN: IGV
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage 2
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    BOUNDARY: IGV Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: IGV Inlet
      Boundary Type = INLET
      Interface Boundary = Off
      Location = INFLOW 2
      BOUNDARY CONDITIONS:
        FLOW DIRECTION:
          Option = Normal to Boundary Condition
        END
        FLOW REGIME:
          Option = Subsonic
        END
        HEAT TRANSFER:
          Option = Total Temperature
          Total Temperature = 517.4 [K]
        END
        MASS AND MOMENTUM:
          Option = Total Pressure
          Relative Pressure = 386.451 [kPa]
        END
        TURBULENCE:
          Option = Medium Intensity and Eddy Viscosity Ratio
        END
      END
    END
  END
  &replace DOMAIN: R1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main 3
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    BOUNDARY: R1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = BLADE 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Hub
      Boundary Type = WALL
      Coord Frame = Coord 0
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = HUB 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Alternate Rotation Model = true
        Angular Velocity = -16170.4 [rev min^-1]
        Option = Rotating
        AXIS DEFINITION:
          Option = Coordinate Axis
          Rotation Axis = Coord 0.1
        END
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: R1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = SHROUD 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
          WALL VELOCITY:
            Option = Counter Rotating Wall
          END
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
  END
  &replace DOMAIN: S1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    BOUNDARY: S1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: S1 Outlet
      Boundary Type = OUTLET
      Interface Boundary = Off
      Location = OUTFLOW
      BOUNDARY CONDITIONS:
        FLOW REGIME:
          Option = Subsonic
        END
        MASS AND MOMENTUM:
          Option = Average Static Pressure
          Pressure Profile Blend = 0.05
          Relative Pressure = 4.5 [bar]
        END
        PRESSURE AVERAGING:
          Option = Average Over Whole Outlet
        END
      END
    END
  END
END

>physicsupdate
TURBO POST DATA:
  Machine Type = Axial Compressor
  Component Order = IGV, R1, S1
  Flow Type = Compressible
  Reference Pressure = 0 [atm]
  Rotation Axis From = 0 [m], 0 [m], 0 [m]
  Rotation Axis To = 1 [m], 0 [m], 0 [m]
  TURBO POST COMPONENT: IGV
    Domain Name = IGV
    Domain Motion = Stationary
    Number of Components in 360 = 70
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 2
    Hub Region = HUB 2
    Shroud Region = SHROUD 2
    Inlet Region = INFLOW 2
    Outlet Region = OUTFLOW 2
    Periodic 1 Region = PER1 2
    Periodic 2 Region = PER2 2
  END
  TURBO POST COMPONENT: R1
    Domain Name = R1
    Domain Motion = Rotating
    Number of Components in 360 = 40
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 3
    Hub Region = HUB 3
    Shroud Region = SHROUD 3
    Inlet Region = INFLOW 3
    Outlet Region = OUTFLOW 3
    Periodic 1 Region = PER1 3
    Periodic 2 Region = PER2 3
  END
  TURBO POST COMPONENT: S1
    Domain Name = S1
    Domain Motion = Stationary
    Number of Components in 360 = 50
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE
    Hub Region = HUB
    Shroud Region = SHROUD
    Outlet Region = OUTFLOW
    Inlet Region = INFLOW
    Periodic 1 Region = PER1
    Periodic 2 Region = PER2
  END
END""")
setup1.SendCommand(Command=">delete /AXIS:TurboPre")
setup1.SendCommand(Command=">delete /ROTATION MARKER:Marker R1")
results1.SendCommand(Command="""REPORT:
  PUBLISH:
Generate 3D Viewer Files = Off
Report Format = HTML
Report Path = C:/Users/alebostr/Desktop/DT3_files/cfd/cfdrun_files/user_files/AxialCompressorReport_Gen1_4bar.htm
Save Images In Separate Folder = Off

END
END
>report save""")
results1.Exit()
solutionComponent1.Update(AllDependencies=True)
setup1.Edit()
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command=""">delete /FLOW:Flow Analysis 1/DOMAIN:IGV,/FLOW:Flow Analysis 1/DOMAIN:R1,/FLOW:Flow Analysis 1/DOMAIN:S1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:IGV to IGV Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to IGV,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to R1 Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to R1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to S1 Periodic 1,/FLOW:Flow Analysis 1/ANALYSIS TYPE,/FLOW:Flow Analysis 1/OUTPUT CONTROL/MONITOR OBJECTS/EFFICIENCY OUTPUT,/FLOW:Flow Analysis 1/OUTPUT CONTROL/EFFICIENCY OUTPUT,/TURBO POST DATA,/FLOW:Flow Analysis 1/TRANSIENT BLADE ROW MODELS,/FLOW:Flow Analysis 1/OUTPUT CONTROL/TRANSIENT BLADE ROW OUTPUT
FLOW: Flow Analysis 1
  &replace DOMAIN INTERFACE: IGV to IGV Periodic 1
    Filter Domain List1 = IGV
    Filter Domain List2 = IGV
    Interface Region List1 = PER1 2
    Interface Region List2 = PER2 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: R1 to IGV
    Filter Domain List1 = R1
    Filter Domain List2 = IGV
    Interface Region List1 = INFLOW 3
    Interface Region List2 = OUTFLOW 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: R1 to R1 Periodic 1
    Filter Domain List1 = R1
    Filter Domain List2 = R1
    Interface Region List1 = PER1 3
    Interface Region List2 = PER2 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: S1 to R1
    Filter Domain List1 = S1
    Filter Domain List2 = R1
    Interface Region List1 = INFLOW
    Interface Region List2 = OUTFLOW 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: S1 to S1 Periodic 1
    Filter Domain List1 = S1
    Filter Domain List2 = S1
    Interface Region List1 = PER1
    Interface Region List2 = PER2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace SOLUTION UNITS:
    Angle Units = [rad]
    Length Units = [m]
    Mass Units = [kg]
    Solid Angle Units = [sr]
    Temperature Units = [K]
    Time Units = [s]
  END
  &replace SOLVER CONTROL:
    Turbulence Numerics = First Order
    ADVECTION SCHEME:
      Option = High Resolution
    END
    CONVERGENCE CONTROL:
      Length Scale Option = Conservative
      Maximum Number of Iterations = 100000
      Minimum Number of Iterations = 1
      Timescale Control = Auto Timescale
      Timescale Factor = 1.0
    END
    CONVERGENCE CRITERIA:
      Residual Target = 0.000001
      Residual Type = RMS
    END
    DYNAMIC MODEL CONTROL:
      Global Dynamic Model Control = On
    END
    INTERRUPT CONTROL:
      Option = Any Interrupt
      CONVERGENCE CONDITIONS:
        Option = Default Conditions
      END
    END
  END
  &replace ANALYSIS TYPE:
    Option = Steady State
    EXTERNAL SOLVER COUPLING:
      Option = None
    END
  END
  &replace OUTPUT CONTROL:
    MONITOR OBJECTS:
      MONITOR BALANCES:
        Option = Full
      END
      MONITOR FORCES:
        Option = Full
      END
      MONITOR PARTICLES:
        Option = Full
      END
      MONITOR POINT: monitorMassflow
        Coord Frame = Coord 0
        Expression Value = massflowExp
        Option = Expression
      END
      MONITOR RESIDUALS:
        Option = Full
      END
      MONITOR TOTALS:
        Option = Full
      END
      EFFICIENCY OUTPUT:
        Inflow Boundary = IGV Inlet
        Option = Output To Solver Monitor
        Outflow Boundary = S1 Outlet
      END
    END
    RESULTS:
      File Compression Level = Default
      Option = Standard
    END
  END
  &replace DOMAIN: IGV
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage 2
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    BOUNDARY: IGV Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: IGV Inlet
      Boundary Type = INLET
      Interface Boundary = Off
      Location = INFLOW 2
      BOUNDARY CONDITIONS:
        FLOW DIRECTION:
          Option = Normal to Boundary Condition
        END
        FLOW REGIME:
          Option = Subsonic
        END
        HEAT TRANSFER:
          Option = Total Temperature
          Total Temperature = 517.4 [K]
        END
        MASS AND MOMENTUM:
          Option = Total Pressure
          Relative Pressure = 386.451 [kPa]
        END
        TURBULENCE:
          Option = Medium Intensity and Eddy Viscosity Ratio
        END
      END
    END
  END
  &replace DOMAIN: R1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main 3
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    BOUNDARY: R1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = BLADE 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Hub
      Boundary Type = WALL
      Coord Frame = Coord 0
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = HUB 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Alternate Rotation Model = true
        Angular Velocity = -16170.4 [rev min^-1]
        Option = Rotating
        AXIS DEFINITION:
          Option = Coordinate Axis
          Rotation Axis = Coord 0.1
        END
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: R1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = SHROUD 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
          WALL VELOCITY:
            Option = Counter Rotating Wall
          END
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
  END
  &replace DOMAIN: S1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    BOUNDARY: S1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: S1 Outlet
      Boundary Type = OUTLET
      Interface Boundary = Off
      Location = OUTFLOW
      BOUNDARY CONDITIONS:
        FLOW REGIME:
          Option = Subsonic
        END
        MASS AND MOMENTUM:
          Option = Average Static Pressure
          Pressure Profile Blend = 0.05
          Relative Pressure = 4.5 [bar]
        END
        PRESSURE AVERAGING:
          Option = Average Over Whole Outlet
        END
      END
    END
  END
END

>physicsupdate
TURBO POST DATA:
  Machine Type = Axial Compressor
  Component Order = IGV, R1, S1
  Flow Type = Compressible
  Reference Pressure = 0 [atm]
  Rotation Axis From = 0 [m], 0 [m], 0 [m]
  Rotation Axis To = 1 [m], 0 [m], 0 [m]
  TURBO POST COMPONENT: IGV
    Domain Name = IGV
    Domain Motion = Stationary
    Number of Components in 360 = 70
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 2
    Hub Region = HUB 2
    Shroud Region = SHROUD 2
    Inlet Region = INFLOW 2
    Outlet Region = OUTFLOW 2
    Periodic 1 Region = PER1 2
    Periodic 2 Region = PER2 2
  END
  TURBO POST COMPONENT: R1
    Domain Name = R1
    Domain Motion = Rotating
    Number of Components in 360 = 40
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 3
    Hub Region = HUB 3
    Shroud Region = SHROUD 3
    Inlet Region = INFLOW 3
    Outlet Region = OUTFLOW 3
    Periodic 1 Region = PER1 3
    Periodic 2 Region = PER2 3
  END
  TURBO POST COMPONENT: S1
    Domain Name = S1
    Domain Motion = Stationary
    Number of Components in 360 = 50
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE
    Hub Region = HUB
    Shroud Region = SHROUD
    Outlet Region = OUTFLOW
    Inlet Region = INFLOW
    Periodic 1 Region = PER1
    Periodic 2 Region = PER2
  END
END""")
setup1.SendCommand(Command=">delete /AXIS:TurboPre")
setup1.SendCommand(Command=">delete /ROTATION MARKER:Marker R1")
setup1.Exit()
setup1.Edit()
setup1.SendCommand(Command="""VIEW:View 1
  Camera Mode = User Specified
  CAMERA:
    Option = Pivot Point and Quaternion
    Pivot Point = 0.0482722, 0.272199, 0.0259069
    Scale = 11.0651
    Pan = 0, 0
    Rotation Quaternion = 0.117843, 0.0518616, -0.117424, 0.984777
    
  END

END

> update
ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
Save(Overwrite=True)
setup1.SendCommand(Command=""">delete /FLOW:Flow Analysis 1/DOMAIN:IGV,/FLOW:Flow Analysis 1/DOMAIN:R1,/FLOW:Flow Analysis 1/DOMAIN:S1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:IGV to IGV Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to IGV,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to R1 Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to R1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to S1 Periodic 1,/FLOW:Flow Analysis 1/ANALYSIS TYPE,/FLOW:Flow Analysis 1/OUTPUT CONTROL/MONITOR OBJECTS/EFFICIENCY OUTPUT,/FLOW:Flow Analysis 1/OUTPUT CONTROL/EFFICIENCY OUTPUT,/TURBO POST DATA,/FLOW:Flow Analysis 1/TRANSIENT BLADE ROW MODELS,/FLOW:Flow Analysis 1/OUTPUT CONTROL/TRANSIENT BLADE ROW OUTPUT
FLOW: Flow Analysis 1
  &replace DOMAIN INTERFACE: IGV to IGV Periodic 1
    Filter Domain List1 = IGV
    Filter Domain List2 = IGV
    Interface Region List1 = PER1 2
    Interface Region List2 = PER2 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: R1 to IGV
    Filter Domain List1 = R1
    Filter Domain List2 = IGV
    Interface Region List1 = INFLOW 3
    Interface Region List2 = OUTFLOW 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: R1 to R1 Periodic 1
    Filter Domain List1 = R1
    Filter Domain List2 = R1
    Interface Region List1 = PER1 3
    Interface Region List2 = PER2 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: S1 to R1
    Filter Domain List1 = S1
    Filter Domain List2 = R1
    Interface Region List1 = INFLOW
    Interface Region List2 = OUTFLOW 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: S1 to S1 Periodic 1
    Filter Domain List1 = S1
    Filter Domain List2 = S1
    Interface Region List1 = PER1
    Interface Region List2 = PER2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace SOLUTION UNITS:
    Angle Units = [rad]
    Length Units = [m]
    Mass Units = [kg]
    Solid Angle Units = [sr]
    Temperature Units = [K]
    Time Units = [s]
  END
  &replace SOLVER CONTROL:
    Turbulence Numerics = First Order
    ADVECTION SCHEME:
      Option = High Resolution
    END
    CONVERGENCE CONTROL:
      Length Scale Option = Conservative
      Maximum Number of Iterations = 100000
      Minimum Number of Iterations = 1
      Timescale Control = Auto Timescale
      Timescale Factor = 1.0
    END
    CONVERGENCE CRITERIA:
      Residual Target = 0.000001
      Residual Type = RMS
    END
    DYNAMIC MODEL CONTROL:
      Global Dynamic Model Control = On
    END
    INTERRUPT CONTROL:
      Option = Any Interrupt
      CONVERGENCE CONDITIONS:
        Option = Default Conditions
      END
    END
  END
  &replace ANALYSIS TYPE:
    Option = Steady State
    EXTERNAL SOLVER COUPLING:
      Option = None
    END
  END
  &replace OUTPUT CONTROL:
    MONITOR OBJECTS:
      MONITOR BALANCES:
        Option = Full
      END
      MONITOR FORCES:
        Option = Full
      END
      MONITOR PARTICLES:
        Option = Full
      END
      MONITOR POINT: monitorMassflow
        Coord Frame = Coord 0
        Expression Value = massflowExp
        Option = Expression
      END
      MONITOR RESIDUALS:
        Option = Full
      END
      MONITOR TOTALS:
        Option = Full
      END
      EFFICIENCY OUTPUT:
        Inflow Boundary = IGV Inlet
        Option = Output To Solver Monitor
        Outflow Boundary = S1 Outlet
      END
    END
    RESULTS:
      File Compression Level = Default
      Option = Standard
    END
  END
  &replace DOMAIN: IGV
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage 2
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    BOUNDARY: IGV Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: IGV Inlet
      Boundary Type = INLET
      Interface Boundary = Off
      Location = INFLOW 2
      BOUNDARY CONDITIONS:
        FLOW DIRECTION:
          Option = Normal to Boundary Condition
        END
        FLOW REGIME:
          Option = Subsonic
        END
        HEAT TRANSFER:
          Option = Total Temperature
          Total Temperature = 517.4 [K]
        END
        MASS AND MOMENTUM:
          Option = Total Pressure
          Relative Pressure = 386.451 [kPa]
        END
        TURBULENCE:
          Option = Medium Intensity and Eddy Viscosity Ratio
        END
      END
    END
  END
  &replace DOMAIN: R1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main 3
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    BOUNDARY: R1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = BLADE 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Hub
      Boundary Type = WALL
      Coord Frame = Coord 0
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = HUB 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Alternate Rotation Model = true
        Angular Velocity = -16170.4 [rev min^-1]
        Option = Rotating
        AXIS DEFINITION:
          Option = Coordinate Axis
          Rotation Axis = Coord 0.1
        END
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: R1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = SHROUD 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
          WALL VELOCITY:
            Option = Counter Rotating Wall
          END
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
  END
  &replace DOMAIN: S1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    BOUNDARY: S1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: S1 Outlet
      Boundary Type = OUTLET
      Interface Boundary = Off
      Location = OUTFLOW
      BOUNDARY CONDITIONS:
        FLOW REGIME:
          Option = Subsonic
        END
        MASS AND MOMENTUM:
          Option = Average Static Pressure
          Pressure Profile Blend = 0.05
          Relative Pressure = 4.5 [bar]
        END
        PRESSURE AVERAGING:
          Option = Average Over Whole Outlet
        END
      END
    END
  END
END

>physicsupdate
TURBO POST DATA:
  Machine Type = Axial Compressor
  Component Order = IGV, R1, S1
  Flow Type = Compressible
  Reference Pressure = 0 [atm]
  Rotation Axis From = 0 [m], 0 [m], 0 [m]
  Rotation Axis To = 1 [m], 0 [m], 0 [m]
  TURBO POST COMPONENT: IGV
    Domain Name = IGV
    Domain Motion = Stationary
    Number of Components in 360 = 70
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 2
    Hub Region = HUB 2
    Shroud Region = SHROUD 2
    Inlet Region = INFLOW 2
    Outlet Region = OUTFLOW 2
    Periodic 1 Region = PER1 2
    Periodic 2 Region = PER2 2
  END
  TURBO POST COMPONENT: R1
    Domain Name = R1
    Domain Motion = Rotating
    Number of Components in 360 = 40
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 3
    Hub Region = HUB 3
    Shroud Region = SHROUD 3
    Inlet Region = INFLOW 3
    Outlet Region = OUTFLOW 3
    Periodic 1 Region = PER1 3
    Periodic 2 Region = PER2 3
  END
  TURBO POST COMPONENT: S1
    Domain Name = S1
    Domain Motion = Stationary
    Number of Components in 360 = 50
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE
    Hub Region = HUB
    Shroud Region = SHROUD
    Outlet Region = OUTFLOW
    Inlet Region = INFLOW
    Periodic 1 Region = PER1
    Periodic 2 Region = PER2
  END
END""")
setup1.SendCommand(Command=">delete /AXIS:TurboPre")
setup1.SendCommand(Command=">delete /ROTATION MARKER:Marker R1")
solution1.SetExecutionControl(CCL=r"""&replace SIMULATION CONTROL:
  EXECUTION CONTROL:
    EXECUTABLE SELECTION:
      Double Precision = Off
      Large Problem = Off
    END
    INTERPOLATOR STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
    END
    PARTITIONER STEP CONTROL:
      Multidomain Option = Automatic
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARTITION SMOOTHING:
        Maximum Partition Smoothing Sweeps = 100
        Option = Smooth
      END
      PARTITIONING TYPE:
        MeTiS Type = k-way
        Option = MeTiS
        Partition Size Rule = Automatic
      END
    END
    RUN DEFINITION:
      Run Mode = Full
      Solver Input File = C:\Users\alebostr\Desktop\DT3_files\cfd\cfdrun_files\dp0\CFX\CFX\CFX.def
    END
    SOLVER STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARALLEL ENVIRONMENT:
        Number of Processes = 1
        Start Method = Serial
      END
    END
  END
END
""")
solutionComponent1.Update(Force=True)
system1.Update(AllDependencies=True)
solution1.MarkUpToDate()
setup1.Edit()
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command=""">delete /FLOW:Flow Analysis 1/DOMAIN:IGV,/FLOW:Flow Analysis 1/DOMAIN:R1,/FLOW:Flow Analysis 1/DOMAIN:S1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:IGV to IGV Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to IGV,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to R1 Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to R1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to S1 Periodic 1,/FLOW:Flow Analysis 1/ANALYSIS TYPE,/FLOW:Flow Analysis 1/OUTPUT CONTROL/MONITOR OBJECTS/EFFICIENCY OUTPUT,/FLOW:Flow Analysis 1/OUTPUT CONTROL/EFFICIENCY OUTPUT,/TURBO POST DATA,/FLOW:Flow Analysis 1/TRANSIENT BLADE ROW MODELS,/FLOW:Flow Analysis 1/OUTPUT CONTROL/TRANSIENT BLADE ROW OUTPUT
FLOW: Flow Analysis 1
  &replace DOMAIN INTERFACE: IGV to IGV Periodic 1
    Filter Domain List1 = IGV
    Filter Domain List2 = IGV
    Interface Region List1 = PER1 2
    Interface Region List2 = PER2 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: R1 to IGV
    Filter Domain List1 = R1
    Filter Domain List2 = IGV
    Interface Region List1 = INFLOW 3
    Interface Region List2 = OUTFLOW 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: R1 to R1 Periodic 1
    Filter Domain List1 = R1
    Filter Domain List2 = R1
    Interface Region List1 = PER1 3
    Interface Region List2 = PER2 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: S1 to R1
    Filter Domain List1 = S1
    Filter Domain List2 = R1
    Interface Region List1 = INFLOW
    Interface Region List2 = OUTFLOW 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: S1 to S1 Periodic 1
    Filter Domain List1 = S1
    Filter Domain List2 = S1
    Interface Region List1 = PER1
    Interface Region List2 = PER2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace SOLUTION UNITS:
    Angle Units = [rad]
    Length Units = [m]
    Mass Units = [kg]
    Solid Angle Units = [sr]
    Temperature Units = [K]
    Time Units = [s]
  END
  &replace SOLVER CONTROL:
    Turbulence Numerics = First Order
    ADVECTION SCHEME:
      Option = High Resolution
    END
    CONVERGENCE CONTROL:
      Length Scale Option = Conservative
      Maximum Number of Iterations = 100000
      Minimum Number of Iterations = 1
      Timescale Control = Auto Timescale
      Timescale Factor = 1.0
    END
    CONVERGENCE CRITERIA:
      Residual Target = 0.000001
      Residual Type = RMS
    END
    DYNAMIC MODEL CONTROL:
      Global Dynamic Model Control = On
    END
    INTERRUPT CONTROL:
      Option = Any Interrupt
      CONVERGENCE CONDITIONS:
        Option = Default Conditions
      END
    END
  END
  &replace ANALYSIS TYPE:
    Option = Steady State
    EXTERNAL SOLVER COUPLING:
      Option = None
    END
  END
  &replace OUTPUT CONTROL:
    MONITOR OBJECTS:
      MONITOR BALANCES:
        Option = Full
      END
      MONITOR FORCES:
        Option = Full
      END
      MONITOR PARTICLES:
        Option = Full
      END
      MONITOR POINT: monitorMassflow
        Coord Frame = Coord 0
        Expression Value = massflowExp
        Option = Expression
      END
      MONITOR RESIDUALS:
        Option = Full
      END
      MONITOR TOTALS:
        Option = Full
      END
      EFFICIENCY OUTPUT:
        Inflow Boundary = IGV Inlet
        Option = Output To Solver Monitor
        Outflow Boundary = S1 Outlet
      END
    END
    RESULTS:
      File Compression Level = Default
      Option = Standard
    END
  END
  &replace DOMAIN: IGV
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage 2
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    BOUNDARY: IGV Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: IGV Inlet
      Boundary Type = INLET
      Interface Boundary = Off
      Location = INFLOW 2
      BOUNDARY CONDITIONS:
        FLOW DIRECTION:
          Option = Normal to Boundary Condition
        END
        FLOW REGIME:
          Option = Subsonic
        END
        HEAT TRANSFER:
          Option = Total Temperature
          Total Temperature = 517.4 [K]
        END
        MASS AND MOMENTUM:
          Option = Total Pressure
          Relative Pressure = 386.451 [kPa]
        END
        TURBULENCE:
          Option = Medium Intensity and Eddy Viscosity Ratio
        END
      END
    END
  END
  &replace DOMAIN: R1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main 3
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    BOUNDARY: R1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = BLADE 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Hub
      Boundary Type = WALL
      Coord Frame = Coord 0
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = HUB 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Alternate Rotation Model = true
        Angular Velocity = -16170.4 [rev min^-1]
        Option = Rotating
        AXIS DEFINITION:
          Option = Coordinate Axis
          Rotation Axis = Coord 0.1
        END
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: R1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = SHROUD 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
          WALL VELOCITY:
            Option = Counter Rotating Wall
          END
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
  END
  &replace DOMAIN: S1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    BOUNDARY: S1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: S1 Outlet
      Boundary Type = OUTLET
      Interface Boundary = Off
      Location = OUTFLOW
      BOUNDARY CONDITIONS:
        FLOW REGIME:
          Option = Subsonic
        END
        MASS AND MOMENTUM:
          Option = Average Static Pressure
          Pressure Profile Blend = 0.05
          Relative Pressure = 4.5 [bar]
        END
        PRESSURE AVERAGING:
          Option = Average Over Whole Outlet
        END
      END
    END
  END
END

>physicsupdate
TURBO POST DATA:
  Machine Type = Axial Compressor
  Component Order = IGV, R1, S1
  Flow Type = Compressible
  Reference Pressure = 0 [atm]
  Rotation Axis From = 0 [m], 0 [m], 0 [m]
  Rotation Axis To = 1 [m], 0 [m], 0 [m]
  TURBO POST COMPONENT: IGV
    Domain Name = IGV
    Domain Motion = Stationary
    Number of Components in 360 = 70
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 2
    Hub Region = HUB 2
    Shroud Region = SHROUD 2
    Inlet Region = INFLOW 2
    Outlet Region = OUTFLOW 2
    Periodic 1 Region = PER1 2
    Periodic 2 Region = PER2 2
  END
  TURBO POST COMPONENT: R1
    Domain Name = R1
    Domain Motion = Rotating
    Number of Components in 360 = 40
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 3
    Hub Region = HUB 3
    Shroud Region = SHROUD 3
    Inlet Region = INFLOW 3
    Outlet Region = OUTFLOW 3
    Periodic 1 Region = PER1 3
    Periodic 2 Region = PER2 3
  END
  TURBO POST COMPONENT: S1
    Domain Name = S1
    Domain Motion = Stationary
    Number of Components in 360 = 50
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE
    Hub Region = HUB
    Shroud Region = SHROUD
    Outlet Region = OUTFLOW
    Inlet Region = INFLOW
    Periodic 1 Region = PER1
    Periodic 2 Region = PER2
  END
END""")
setup1.SendCommand(Command=">delete /AXIS:TurboPre")
setup1.SendCommand(Command=">delete /ROTATION MARKER:Marker R1")
solution1.SetExecutionControl(CCL=r"""&replace SIMULATION CONTROL:
  EXECUTION CONTROL:
    EXECUTABLE SELECTION:
      Double Precision = Off
      Large Problem = Off
    END
    INTERPOLATOR STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
    END
    PARTITIONER STEP CONTROL:
      Multidomain Option = Automatic
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARTITION SMOOTHING:
        Maximum Partition Smoothing Sweeps = 100
        Option = Smooth
      END
      PARTITIONING TYPE:
        MeTiS Type = k-way
        Option = MeTiS
        Partition Size Rule = Automatic
      END
    END
    RUN DEFINITION:
      Run Mode = Full
      Solver Input File = C:\Users\alebostr\Desktop\DT3_files\cfd\cfdrun_files\dp0\CFX\CFX\CFX.def
    END
    SOLVER STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARALLEL ENVIRONMENT:
        Number of Processes = 1
        Start Method = Serial
      END
    END
  END
END
""")
solutionComponent1.Update(Force=True)
system2 = system1.Duplicate(
    ComponentsToShare=[],
    RelativeTo=system1)
solution1.Exit()
resultsComponent1 = system2.GetComponent(Name="Results")
resultsComponent1.RemoveFromSystem(System=system2)
system2.Delete()
solution1.MarkUpToDate()
results1.Edit()
results1.SendCommand(Command="""VIEW:View 1
  Light Angle = 50, 110
END

VIEW:View 2
  Light Angle = 50, 110
END

VIEW:View 3
  Light Angle = 50, 110
END

VIEW:View 4
  Light Angle = 50, 110
END

> update
>report save, format=preview""")
results1.SendCommand(Command="""REPORT:
  PUBLISH:
Generate 3D Viewer Files = Off
Report Format = HTML
Report Path = C:/Users/alebostr/Desktop/DT3_files/cfd/cfdrun_files/user_files/AxialCompressorReport_Gen1_4.5bar.htm
Save Images In Separate Folder = Off

END
END
>report save""")
results1.Exit()
setup1.Edit()
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command=""">delete /FLOW:Flow Analysis 1/DOMAIN:IGV,/FLOW:Flow Analysis 1/DOMAIN:R1,/FLOW:Flow Analysis 1/DOMAIN:S1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:IGV to IGV Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to IGV,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to R1 Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to R1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to S1 Periodic 1,/FLOW:Flow Analysis 1/ANALYSIS TYPE,/FLOW:Flow Analysis 1/OUTPUT CONTROL/MONITOR OBJECTS/EFFICIENCY OUTPUT,/FLOW:Flow Analysis 1/OUTPUT CONTROL/EFFICIENCY OUTPUT,/TURBO POST DATA,/FLOW:Flow Analysis 1/TRANSIENT BLADE ROW MODELS,/FLOW:Flow Analysis 1/OUTPUT CONTROL/TRANSIENT BLADE ROW OUTPUT
FLOW: Flow Analysis 1
  &replace DOMAIN INTERFACE: IGV to IGV Periodic 1
    Filter Domain List1 = IGV
    Filter Domain List2 = IGV
    Interface Region List1 = PER1 2
    Interface Region List2 = PER2 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: R1 to IGV
    Filter Domain List1 = R1
    Filter Domain List2 = IGV
    Interface Region List1 = INFLOW 3
    Interface Region List2 = OUTFLOW 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: R1 to R1 Periodic 1
    Filter Domain List1 = R1
    Filter Domain List2 = R1
    Interface Region List1 = PER1 3
    Interface Region List2 = PER2 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: S1 to R1
    Filter Domain List1 = S1
    Filter Domain List2 = R1
    Interface Region List1 = INFLOW
    Interface Region List2 = OUTFLOW 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: S1 to S1 Periodic 1
    Filter Domain List1 = S1
    Filter Domain List2 = S1
    Interface Region List1 = PER1
    Interface Region List2 = PER2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace SOLUTION UNITS:
    Angle Units = [rad]
    Length Units = [m]
    Mass Units = [kg]
    Solid Angle Units = [sr]
    Temperature Units = [K]
    Time Units = [s]
  END
  &replace SOLVER CONTROL:
    Turbulence Numerics = First Order
    ADVECTION SCHEME:
      Option = High Resolution
    END
    CONVERGENCE CONTROL:
      Length Scale Option = Conservative
      Maximum Number of Iterations = 100000
      Minimum Number of Iterations = 1
      Timescale Control = Auto Timescale
      Timescale Factor = 1.0
    END
    CONVERGENCE CRITERIA:
      Residual Target = 0.000001
      Residual Type = RMS
    END
    DYNAMIC MODEL CONTROL:
      Global Dynamic Model Control = On
    END
    INTERRUPT CONTROL:
      Option = Any Interrupt
      CONVERGENCE CONDITIONS:
        Option = Default Conditions
      END
    END
  END
  &replace ANALYSIS TYPE:
    Option = Steady State
    EXTERNAL SOLVER COUPLING:
      Option = None
    END
  END
  &replace OUTPUT CONTROL:
    MONITOR OBJECTS:
      MONITOR BALANCES:
        Option = Full
      END
      MONITOR FORCES:
        Option = Full
      END
      MONITOR PARTICLES:
        Option = Full
      END
      MONITOR POINT: monitorMassflow
        Coord Frame = Coord 0
        Expression Value = massflowExp
        Option = Expression
      END
      MONITOR RESIDUALS:
        Option = Full
      END
      MONITOR TOTALS:
        Option = Full
      END
      EFFICIENCY OUTPUT:
        Inflow Boundary = IGV Inlet
        Option = Output To Solver Monitor
        Outflow Boundary = S1 Outlet
      END
    END
    RESULTS:
      File Compression Level = Default
      Option = Standard
    END
  END
  &replace DOMAIN: IGV
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage 2
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    BOUNDARY: IGV Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: IGV Inlet
      Boundary Type = INLET
      Interface Boundary = Off
      Location = INFLOW 2
      BOUNDARY CONDITIONS:
        FLOW DIRECTION:
          Option = Normal to Boundary Condition
        END
        FLOW REGIME:
          Option = Subsonic
        END
        HEAT TRANSFER:
          Option = Total Temperature
          Total Temperature = 517.4 [K]
        END
        MASS AND MOMENTUM:
          Option = Total Pressure
          Relative Pressure = 386.451 [kPa]
        END
        TURBULENCE:
          Option = Medium Intensity and Eddy Viscosity Ratio
        END
      END
    END
  END
  &replace DOMAIN: R1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main 3
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    BOUNDARY: R1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = BLADE 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Hub
      Boundary Type = WALL
      Coord Frame = Coord 0
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = HUB 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Alternate Rotation Model = true
        Angular Velocity = -16170.4 [rev min^-1]
        Option = Rotating
        AXIS DEFINITION:
          Option = Coordinate Axis
          Rotation Axis = Coord 0.1
        END
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: R1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = SHROUD 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
          WALL VELOCITY:
            Option = Counter Rotating Wall
          END
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
  END
  &replace DOMAIN: S1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    BOUNDARY: S1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: S1 Outlet
      Boundary Type = OUTLET
      Interface Boundary = Off
      Location = OUTFLOW
      BOUNDARY CONDITIONS:
        FLOW REGIME:
          Option = Subsonic
        END
        MASS AND MOMENTUM:
          Option = Average Static Pressure
          Pressure Profile Blend = 0.05
          Relative Pressure = 5 [bar]
        END
        PRESSURE AVERAGING:
          Option = Average Over Whole Outlet
        END
      END
    END
  END
END

>physicsupdate
TURBO POST DATA:
  Machine Type = Axial Compressor
  Component Order = IGV, R1, S1
  Flow Type = Compressible
  Reference Pressure = 0 [atm]
  Rotation Axis From = 0 [m], 0 [m], 0 [m]
  Rotation Axis To = 1 [m], 0 [m], 0 [m]
  TURBO POST COMPONENT: IGV
    Domain Name = IGV
    Domain Motion = Stationary
    Number of Components in 360 = 70
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 2
    Hub Region = HUB 2
    Shroud Region = SHROUD 2
    Inlet Region = INFLOW 2
    Outlet Region = OUTFLOW 2
    Periodic 1 Region = PER1 2
    Periodic 2 Region = PER2 2
  END
  TURBO POST COMPONENT: R1
    Domain Name = R1
    Domain Motion = Rotating
    Number of Components in 360 = 40
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 3
    Hub Region = HUB 3
    Shroud Region = SHROUD 3
    Inlet Region = INFLOW 3
    Outlet Region = OUTFLOW 3
    Periodic 1 Region = PER1 3
    Periodic 2 Region = PER2 3
  END
  TURBO POST COMPONENT: S1
    Domain Name = S1
    Domain Motion = Stationary
    Number of Components in 360 = 50
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE
    Hub Region = HUB
    Shroud Region = SHROUD
    Outlet Region = OUTFLOW
    Inlet Region = INFLOW
    Periodic 1 Region = PER1
    Periodic 2 Region = PER2
  END
END""")
setup1.SendCommand(Command=">delete /AXIS:TurboPre")
setup1.SendCommand(Command=">delete /ROTATION MARKER:Marker R1")
Save(Overwrite=True)
solution1.SetExecutionControl(CCL=r"""&replace SIMULATION CONTROL:
  EXECUTION CONTROL:
    EXECUTABLE SELECTION:
      Double Precision = Off
      Large Problem = Off
    END
    INTERPOLATOR STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
    END
    PARTITIONER STEP CONTROL:
      Multidomain Option = Automatic
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARTITION SMOOTHING:
        Maximum Partition Smoothing Sweeps = 100
        Option = Smooth
      END
      PARTITIONING TYPE:
        MeTiS Type = k-way
        Option = MeTiS
        Partition Size Rule = Automatic
      END
    END
    RUN DEFINITION:
      Run Mode = Full
      Solver Input File = C:\Users\alebostr\Desktop\DT3_files\cfd\cfdrun_files\dp0\CFX\CFX\CFX.def
    END
    SOLVER STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARALLEL ENVIRONMENT:
        Number of Processes = 1
        Start Method = Serial
      END
    END
  END
END
""")
solutionComponent1.Update(Force=True)
solution1.MarkUpToDate()
results1.Edit()
setup1.Edit()
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
results1.SendCommand(Command="""VIEW:View 1
  Light Angle = 50, 110
END

VIEW:View 2
  Light Angle = 50, 110
END

VIEW:View 3
  Light Angle = 50, 110
END

VIEW:View 4
  Light Angle = 50, 110
END

> update
>report save, format=preview""")
results1.SendCommand(Command="""REPORT:
  PUBLISH:
Generate 3D Viewer Files = Off
Report Format = HTML
Report Path = C:/Users/alebostr/Desktop/DT3_files/cfd/cfdrun_files/user_files/AxialCompressorReport_Gen1_5bar.htm
Save Images In Separate Folder = Off

END
END
>report save""")
results1.Exit()
setup1.Edit()
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command=""">delete /FLOW:Flow Analysis 1/DOMAIN:IGV,/FLOW:Flow Analysis 1/DOMAIN:R1,/FLOW:Flow Analysis 1/DOMAIN:S1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:IGV to IGV Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to IGV,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to R1 Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to R1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to S1 Periodic 1,/FLOW:Flow Analysis 1/ANALYSIS TYPE,/FLOW:Flow Analysis 1/OUTPUT CONTROL/MONITOR OBJECTS/EFFICIENCY OUTPUT,/FLOW:Flow Analysis 1/OUTPUT CONTROL/EFFICIENCY OUTPUT,/TURBO POST DATA,/FLOW:Flow Analysis 1/TRANSIENT BLADE ROW MODELS,/FLOW:Flow Analysis 1/OUTPUT CONTROL/TRANSIENT BLADE ROW OUTPUT
FLOW: Flow Analysis 1
  &replace DOMAIN INTERFACE: IGV to IGV Periodic 1
    Filter Domain List1 = IGV
    Filter Domain List2 = IGV
    Interface Region List1 = PER1 2
    Interface Region List2 = PER2 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: R1 to IGV
    Filter Domain List1 = R1
    Filter Domain List2 = IGV
    Interface Region List1 = INFLOW 3
    Interface Region List2 = OUTFLOW 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: R1 to R1 Periodic 1
    Filter Domain List1 = R1
    Filter Domain List2 = R1
    Interface Region List1 = PER1 3
    Interface Region List2 = PER2 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: S1 to R1
    Filter Domain List1 = S1
    Filter Domain List2 = R1
    Interface Region List1 = INFLOW
    Interface Region List2 = OUTFLOW 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: S1 to S1 Periodic 1
    Filter Domain List1 = S1
    Filter Domain List2 = S1
    Interface Region List1 = PER1
    Interface Region List2 = PER2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace SOLUTION UNITS:
    Angle Units = [rad]
    Length Units = [m]
    Mass Units = [kg]
    Solid Angle Units = [sr]
    Temperature Units = [K]
    Time Units = [s]
  END
  &replace SOLVER CONTROL:
    Turbulence Numerics = First Order
    ADVECTION SCHEME:
      Option = High Resolution
    END
    CONVERGENCE CONTROL:
      Length Scale Option = Conservative
      Maximum Number of Iterations = 100000
      Minimum Number of Iterations = 1
      Timescale Control = Auto Timescale
      Timescale Factor = 1.0
    END
    CONVERGENCE CRITERIA:
      Residual Target = 0.000001
      Residual Type = RMS
    END
    DYNAMIC MODEL CONTROL:
      Global Dynamic Model Control = On
    END
    INTERRUPT CONTROL:
      Option = Any Interrupt
      CONVERGENCE CONDITIONS:
        Option = Default Conditions
      END
    END
  END
  &replace OUTPUT CONTROL:
    MONITOR OBJECTS:
      MONITOR BALANCES:
        Option = Full
      END
      MONITOR FORCES:
        Option = Full
      END
      MONITOR PARTICLES:
        Option = Full
      END
      MONITOR POINT: monitorMassflow
        Coord Frame = Coord 0
        Expression Value = massflowExp
        Option = Expression
      END
      MONITOR RESIDUALS:
        Option = Full
      END
      MONITOR TOTALS:
        Option = Full
      END
      EFFICIENCY OUTPUT:
        Inflow Boundary = IGV Inlet
        Option = Output To Solver Monitor
        Outflow Boundary = S1 Outlet
      END
    END
    RESULTS:
      File Compression Level = Default
      Option = Standard
    END
  END
  &replace ANALYSIS TYPE:
    Option = Steady State
    EXTERNAL SOLVER COUPLING:
      Option = None
    END
  END
  &replace DOMAIN: IGV
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage 2
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    BOUNDARY: IGV Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: IGV Inlet
      Boundary Type = INLET
      Interface Boundary = Off
      Location = INFLOW 2
      BOUNDARY CONDITIONS:
        FLOW DIRECTION:
          Option = Normal to Boundary Condition
        END
        FLOW REGIME:
          Option = Subsonic
        END
        HEAT TRANSFER:
          Option = Total Temperature
          Total Temperature = 517.4 [K]
        END
        MASS AND MOMENTUM:
          Option = Total Pressure
          Relative Pressure = 386.451 [kPa]
        END
        TURBULENCE:
          Option = Medium Intensity and Eddy Viscosity Ratio
        END
      END
    END
  END
  &replace DOMAIN: R1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main 3
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    BOUNDARY: R1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = BLADE 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Hub
      Boundary Type = WALL
      Coord Frame = Coord 0
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = HUB 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Alternate Rotation Model = true
        Angular Velocity = -16170.4 [rev min^-1]
        Option = Rotating
        AXIS DEFINITION:
          Option = Coordinate Axis
          Rotation Axis = Coord 0.1
        END
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: R1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = SHROUD 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
          WALL VELOCITY:
            Option = Counter Rotating Wall
          END
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
  END
  &replace DOMAIN: S1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    BOUNDARY: S1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: S1 Outlet
      Boundary Type = OUTLET
      Interface Boundary = Off
      Location = OUTFLOW
      BOUNDARY CONDITIONS:
        FLOW REGIME:
          Option = Subsonic
        END
        MASS AND MOMENTUM:
          Option = Average Static Pressure
          Pressure Profile Blend = 0.05
          Relative Pressure = 5.5 [bar]
        END
        PRESSURE AVERAGING:
          Option = Average Over Whole Outlet
        END
      END
    END
  END
END

>physicsupdate
TURBO POST DATA:
  Machine Type = Axial Compressor
  Component Order = IGV, R1, S1
  Flow Type = Compressible
  Reference Pressure = 0 [atm]
  Rotation Axis From = 0 [m], 0 [m], 0 [m]
  Rotation Axis To = 1 [m], 0 [m], 0 [m]
  TURBO POST COMPONENT: IGV
    Domain Name = IGV
    Domain Motion = Stationary
    Number of Components in 360 = 70
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 2
    Hub Region = HUB 2
    Shroud Region = SHROUD 2
    Inlet Region = INFLOW 2
    Outlet Region = OUTFLOW 2
    Periodic 1 Region = PER1 2
    Periodic 2 Region = PER2 2
  END
  TURBO POST COMPONENT: R1
    Domain Name = R1
    Domain Motion = Rotating
    Number of Components in 360 = 40
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 3
    Hub Region = HUB 3
    Shroud Region = SHROUD 3
    Inlet Region = INFLOW 3
    Outlet Region = OUTFLOW 3
    Periodic 1 Region = PER1 3
    Periodic 2 Region = PER2 3
  END
  TURBO POST COMPONENT: S1
    Domain Name = S1
    Domain Motion = Stationary
    Number of Components in 360 = 50
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE
    Hub Region = HUB
    Shroud Region = SHROUD
    Outlet Region = OUTFLOW
    Inlet Region = INFLOW
    Periodic 1 Region = PER1
    Periodic 2 Region = PER2
  END
END""")
setup1.SendCommand(Command=">delete /AXIS:TurboPre")
setup1.SendCommand(Command=">delete /ROTATION MARKER:Marker R1")
solution1.SetExecutionControl(CCL=r"""&replace SIMULATION CONTROL:
  EXECUTION CONTROL:
    EXECUTABLE SELECTION:
      Double Precision = Off
      Large Problem = Off
    END
    INTERPOLATOR STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
    END
    PARTITIONER STEP CONTROL:
      Multidomain Option = Automatic
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARTITION SMOOTHING:
        Maximum Partition Smoothing Sweeps = 100
        Option = Smooth
      END
      PARTITIONING TYPE:
        MeTiS Type = k-way
        Option = MeTiS
        Partition Size Rule = Automatic
      END
    END
    RUN DEFINITION:
      Run Mode = Full
      Solver Input File = C:\Users\alebostr\Desktop\DT3_files\cfd\cfdrun_files\dp0\CFX\CFX\CFX.def
    END
    SOLVER STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARALLEL ENVIRONMENT:
        Number of Processes = 1
        Start Method = Serial
      END
    END
  END
END
""")
solutionComponent1.Update(Force=True)
solution1.MarkUpToDate()
results1.Edit()
results1.SendCommand(Command="""VIEW:View 1
  Light Angle = 50, 110
END

VIEW:View 2
  Light Angle = 50, 110
END

VIEW:View 3
  Light Angle = 50, 110
END

VIEW:View 4
  Light Angle = 50, 110
END

> update
>report save, format=preview""")
results1.SendCommand(Command="""REPORT:
  PUBLISH:
Generate 3D Viewer Files = Off
Report Format = HTML
Report Path = C:/Users/alebostr/Desktop/DT3_files/cfd/cfdrun_files/user_files/AxialCompressorReport_Gen1_5.5.htm
Save Images In Separate Folder = Off

END
END
>report save""")
results1.Exit()
setup1.Edit()
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command=""">delete /FLOW:Flow Analysis 1/DOMAIN:IGV,/FLOW:Flow Analysis 1/DOMAIN:R1,/FLOW:Flow Analysis 1/DOMAIN:S1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:IGV to IGV Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to IGV,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to R1 Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to R1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to S1 Periodic 1,/FLOW:Flow Analysis 1/ANALYSIS TYPE,/FLOW:Flow Analysis 1/OUTPUT CONTROL/MONITOR OBJECTS/EFFICIENCY OUTPUT,/FLOW:Flow Analysis 1/OUTPUT CONTROL/EFFICIENCY OUTPUT,/TURBO POST DATA,/FLOW:Flow Analysis 1/TRANSIENT BLADE ROW MODELS,/FLOW:Flow Analysis 1/OUTPUT CONTROL/TRANSIENT BLADE ROW OUTPUT
FLOW: Flow Analysis 1
  &replace DOMAIN INTERFACE: IGV to IGV Periodic 1
    Filter Domain List1 = IGV
    Filter Domain List2 = IGV
    Interface Region List1 = PER1 2
    Interface Region List2 = PER2 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: R1 to IGV
    Filter Domain List1 = R1
    Filter Domain List2 = IGV
    Interface Region List1 = INFLOW 3
    Interface Region List2 = OUTFLOW 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: R1 to R1 Periodic 1
    Filter Domain List1 = R1
    Filter Domain List2 = R1
    Interface Region List1 = PER1 3
    Interface Region List2 = PER2 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: S1 to R1
    Filter Domain List1 = S1
    Filter Domain List2 = R1
    Interface Region List1 = INFLOW
    Interface Region List2 = OUTFLOW 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: S1 to S1 Periodic 1
    Filter Domain List1 = S1
    Filter Domain List2 = S1
    Interface Region List1 = PER1
    Interface Region List2 = PER2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace SOLUTION UNITS:
    Angle Units = [rad]
    Length Units = [m]
    Mass Units = [kg]
    Solid Angle Units = [sr]
    Temperature Units = [K]
    Time Units = [s]
  END
  &replace SOLVER CONTROL:
    Turbulence Numerics = First Order
    ADVECTION SCHEME:
      Option = High Resolution
    END
    CONVERGENCE CONTROL:
      Length Scale Option = Conservative
      Maximum Number of Iterations = 100000
      Minimum Number of Iterations = 1
      Timescale Control = Auto Timescale
      Timescale Factor = 1.0
    END
    CONVERGENCE CRITERIA:
      Residual Target = 0.000001
      Residual Type = RMS
    END
    DYNAMIC MODEL CONTROL:
      Global Dynamic Model Control = On
    END
    INTERRUPT CONTROL:
      Option = Any Interrupt
      CONVERGENCE CONDITIONS:
        Option = Default Conditions
      END
    END
  END
  &replace ANALYSIS TYPE:
    Option = Steady State
    EXTERNAL SOLVER COUPLING:
      Option = None
    END
  END
  &replace OUTPUT CONTROL:
    MONITOR OBJECTS:
      MONITOR BALANCES:
        Option = Full
      END
      MONITOR FORCES:
        Option = Full
      END
      MONITOR PARTICLES:
        Option = Full
      END
      MONITOR POINT: monitorMassflow
        Coord Frame = Coord 0
        Expression Value = massflowExp
        Option = Expression
      END
      MONITOR RESIDUALS:
        Option = Full
      END
      MONITOR TOTALS:
        Option = Full
      END
      EFFICIENCY OUTPUT:
        Inflow Boundary = IGV Inlet
        Option = Output To Solver Monitor
        Outflow Boundary = S1 Outlet
      END
    END
    RESULTS:
      File Compression Level = Default
      Option = Standard
    END
  END
  &replace DOMAIN: IGV
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage 2
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    BOUNDARY: IGV Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: IGV Inlet
      Boundary Type = INLET
      Interface Boundary = Off
      Location = INFLOW 2
      BOUNDARY CONDITIONS:
        FLOW DIRECTION:
          Option = Normal to Boundary Condition
        END
        FLOW REGIME:
          Option = Subsonic
        END
        HEAT TRANSFER:
          Option = Total Temperature
          Total Temperature = 517.4 [K]
        END
        MASS AND MOMENTUM:
          Option = Total Pressure
          Relative Pressure = 386.451 [kPa]
        END
        TURBULENCE:
          Option = Medium Intensity and Eddy Viscosity Ratio
        END
      END
    END
  END
  &replace DOMAIN: R1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main 3
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    BOUNDARY: R1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = BLADE 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Hub
      Boundary Type = WALL
      Coord Frame = Coord 0
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = HUB 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Alternate Rotation Model = true
        Angular Velocity = -16170.4 [rev min^-1]
        Option = Rotating
        AXIS DEFINITION:
          Option = Coordinate Axis
          Rotation Axis = Coord 0.1
        END
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: R1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = SHROUD 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
          WALL VELOCITY:
            Option = Counter Rotating Wall
          END
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
  END
  &replace DOMAIN: S1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    BOUNDARY: S1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: S1 Outlet
      Boundary Type = OUTLET
      Interface Boundary = Off
      Location = OUTFLOW
      BOUNDARY CONDITIONS:
        FLOW REGIME:
          Option = Subsonic
        END
        MASS AND MOMENTUM:
          Option = Average Static Pressure
          Pressure Profile Blend = 0.05
          Relative Pressure = 5.7 [bar]
        END
        PRESSURE AVERAGING:
          Option = Average Over Whole Outlet
        END
      END
    END
  END
END

>physicsupdate
TURBO POST DATA:
  Machine Type = Axial Compressor
  Component Order = IGV, R1, S1
  Flow Type = Compressible
  Reference Pressure = 0 [atm]
  Rotation Axis From = 0 [m], 0 [m], 0 [m]
  Rotation Axis To = 1 [m], 0 [m], 0 [m]
  TURBO POST COMPONENT: IGV
    Domain Name = IGV
    Domain Motion = Stationary
    Number of Components in 360 = 70
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 2
    Hub Region = HUB 2
    Shroud Region = SHROUD 2
    Inlet Region = INFLOW 2
    Outlet Region = OUTFLOW 2
    Periodic 1 Region = PER1 2
    Periodic 2 Region = PER2 2
  END
  TURBO POST COMPONENT: R1
    Domain Name = R1
    Domain Motion = Rotating
    Number of Components in 360 = 40
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 3
    Hub Region = HUB 3
    Shroud Region = SHROUD 3
    Inlet Region = INFLOW 3
    Outlet Region = OUTFLOW 3
    Periodic 1 Region = PER1 3
    Periodic 2 Region = PER2 3
  END
  TURBO POST COMPONENT: S1
    Domain Name = S1
    Domain Motion = Stationary
    Number of Components in 360 = 50
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE
    Hub Region = HUB
    Shroud Region = SHROUD
    Outlet Region = OUTFLOW
    Inlet Region = INFLOW
    Periodic 1 Region = PER1
    Periodic 2 Region = PER2
  END
END""")
setup1.SendCommand(Command=">delete /AXIS:TurboPre")
setup1.SendCommand(Command=">delete /ROTATION MARKER:Marker R1")
solution1.SetExecutionControl(CCL=r"""&replace SIMULATION CONTROL:
  EXECUTION CONTROL:
    EXECUTABLE SELECTION:
      Double Precision = Off
      Large Problem = Off
    END
    INTERPOLATOR STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
    END
    PARTITIONER STEP CONTROL:
      Multidomain Option = Automatic
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARTITION SMOOTHING:
        Maximum Partition Smoothing Sweeps = 100
        Option = Smooth
      END
      PARTITIONING TYPE:
        MeTiS Type = k-way
        Option = MeTiS
        Partition Size Rule = Automatic
      END
    END
    RUN DEFINITION:
      Run Mode = Full
      Solver Input File = C:\Users\alebostr\Desktop\DT3_files\cfd\cfdrun_files\dp0\CFX\CFX\CFX.def
    END
    SOLVER STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARALLEL ENVIRONMENT:
        Number of Processes = 1
        Start Method = Serial
      END
    END
  END
END
""")
solutionComponent1.Update(Force=True)
solution1.MarkUpToDate()
results1.Edit()
results1.SendCommand(Command="""VIEW:View 1
  Light Angle = 50, 110
END

VIEW:View 2
  Light Angle = 50, 110
END

VIEW:View 3
  Light Angle = 50, 110
END

VIEW:View 4
  Light Angle = 50, 110
END

> update
>report save, format=preview""")
results1.SendCommand(Command=">report save, format=preview")
results1.SendCommand(Command="""REPORT:
  PUBLISH:
Generate 3D Viewer Files = Off
Report Format = HTML
Report Path = C:/Users/alebostr/Desktop/DT3_files/cfd/cfdrun_files/user_files/AxialCompressorReport_Gen1_5.7.htm
Save Images In Separate Folder = Off

END
END
>report save""")
results1.Exit()
setup1.Edit()
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command=""">delete /FLOW:Flow Analysis 1/DOMAIN:IGV,/FLOW:Flow Analysis 1/DOMAIN:R1,/FLOW:Flow Analysis 1/DOMAIN:S1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:IGV to IGV Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to IGV,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:R1 to R1 Periodic 1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to R1,/FLOW:Flow Analysis 1/DOMAIN INTERFACE:S1 to S1 Periodic 1,/FLOW:Flow Analysis 1/ANALYSIS TYPE,/FLOW:Flow Analysis 1/OUTPUT CONTROL/MONITOR OBJECTS/EFFICIENCY OUTPUT,/FLOW:Flow Analysis 1/OUTPUT CONTROL/EFFICIENCY OUTPUT,/TURBO POST DATA,/FLOW:Flow Analysis 1/TRANSIENT BLADE ROW MODELS,/FLOW:Flow Analysis 1/OUTPUT CONTROL/TRANSIENT BLADE ROW OUTPUT
FLOW: Flow Analysis 1
  &replace DOMAIN INTERFACE: IGV to IGV Periodic 1
    Filter Domain List1 = IGV
    Filter Domain List2 = IGV
    Interface Region List1 = PER1 2
    Interface Region List2 = PER2 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: R1 to IGV
    Filter Domain List1 = R1
    Filter Domain List2 = IGV
    Interface Region List1 = INFLOW 3
    Interface Region List2 = OUTFLOW 2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: R1 to R1 Periodic 1
    Filter Domain List1 = R1
    Filter Domain List2 = R1
    Interface Region List1 = PER1 3
    Interface Region List2 = PER2 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace DOMAIN INTERFACE: S1 to R1
    Filter Domain List1 = S1
    Filter Domain List2 = R1
    Interface Region List1 = INFLOW
    Interface Region List2 = OUTFLOW 3
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = General Connection
      FRAME CHANGE:
        Option = Stage
        DOWNSTREAM VELOCITY CONSTRAINT:
          Frame Type = Rotating
          Option = Constant Total Pressure
        END
      END
      PITCH CHANGE:
        Option = Automatic
      END
    END
    MESH CONNECTION:
      Option = GGI
    END
  END
  &replace DOMAIN INTERFACE: S1 to S1 Periodic 1
    Filter Domain List1 = S1
    Filter Domain List2 = S1
    Interface Region List1 = PER1
    Interface Region List2 = PER2
    Interface Type = Fluid Fluid
    INTERFACE MODELS:
      Option = Rotational Periodicity
      AXIS DEFINITION:
        Option = Coordinate Axis
        Rotation Axis = Coord 0.1
      END
    END
    MESH CONNECTION:
      Option = Automatic
    END
  END
  &replace SOLUTION UNITS:
    Angle Units = [rad]
    Length Units = [m]
    Mass Units = [kg]
    Solid Angle Units = [sr]
    Temperature Units = [K]
    Time Units = [s]
  END
  &replace SOLVER CONTROL:
    Turbulence Numerics = First Order
    ADVECTION SCHEME:
      Option = High Resolution
    END
    CONVERGENCE CONTROL:
      Length Scale Option = Conservative
      Maximum Number of Iterations = 100000
      Minimum Number of Iterations = 1
      Timescale Control = Auto Timescale
      Timescale Factor = 1.0
    END
    CONVERGENCE CRITERIA:
      Residual Target = 0.000001
      Residual Type = RMS
    END
    DYNAMIC MODEL CONTROL:
      Global Dynamic Model Control = On
    END
    INTERRUPT CONTROL:
      Option = Any Interrupt
      CONVERGENCE CONDITIONS:
        Option = Default Conditions
      END
    END
  END
  &replace ANALYSIS TYPE:
    Option = Steady State
    EXTERNAL SOLVER COUPLING:
      Option = None
    END
  END
  &replace OUTPUT CONTROL:
    MONITOR OBJECTS:
      MONITOR BALANCES:
        Option = Full
      END
      MONITOR FORCES:
        Option = Full
      END
      MONITOR PARTICLES:
        Option = Full
      END
      MONITOR POINT: monitorMassflow
        Coord Frame = Coord 0
        Expression Value = massflowExp
        Option = Expression
      END
      MONITOR RESIDUALS:
        Option = Full
      END
      MONITOR TOTALS:
        Option = Full
      END
      EFFICIENCY OUTPUT:
        Inflow Boundary = IGV Inlet
        Option = Output To Solver Monitor
        Outflow Boundary = S1 Outlet
      END
    END
    RESULTS:
      File Compression Level = Default
      Option = Standard
    END
  END
  &replace DOMAIN: IGV
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage 2
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    BOUNDARY: IGV Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: IGV Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD 2
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: IGV Inlet
      Boundary Type = INLET
      Interface Boundary = Off
      Location = INFLOW 2
      BOUNDARY CONDITIONS:
        FLOW DIRECTION:
          Option = Normal to Boundary Condition
        END
        FLOW REGIME:
          Option = Subsonic
        END
        HEAT TRANSFER:
          Option = Total Temperature
          Total Temperature = 517.4 [K]
        END
        MASS AND MOMENTUM:
          Option = Total Pressure
          Relative Pressure = 386.451 [kPa]
        END
        TURBULENCE:
          Option = Medium Intensity and Eddy Viscosity Ratio
        END
      END
    END
  END
  &replace DOMAIN: R1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main 3
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    BOUNDARY: R1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = BLADE 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: R1 Hub
      Boundary Type = WALL
      Coord Frame = Coord 0
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = HUB 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Alternate Rotation Model = true
        Angular Velocity = -16170.4 [rev min^-1]
        Option = Rotating
        AXIS DEFINITION:
          Option = Coordinate Axis
          Rotation Axis = Coord 0.1
        END
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: R1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Frame Type = Rotating
      Interface Boundary = Off
      Location = SHROUD 3
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
          WALL VELOCITY:
            Option = Counter Rotating Wall
          END
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
  END
  &replace DOMAIN: S1
    Coord Frame = Coord 0
    Domain Type = Fluid
    Location = Passage Main
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    BOUNDARY: S1 Blade
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = BLADE
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Hub
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = HUB
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    BOUNDARY: S1 Shroud
      Boundary Type = WALL
      Create Other Side = Off
      Interface Boundary = Off
      Location = SHROUD
      BOUNDARY CONDITIONS:
        HEAT TRANSFER:
          Option = Adiabatic
        END
        MASS AND MOMENTUM:
          Option = No Slip Wall
        END
        WALL ROUGHNESS:
          Option = Smooth Wall
        END
      END
    END
    DOMAIN MODELS:
      BUOYANCY MODEL:
        Option = Non Buoyant
      END
      DOMAIN MOTION:
        Option = Stationary
      END
      MESH DEFORMATION:
        Option = None
      END
      REFERENCE PRESSURE:
        Reference Pressure = 0 [atm]
      END
    END
    FLUID DEFINITION: Air Ideal Gas
      Material = Air Ideal Gas
      Option = Material Library
      MORPHOLOGY:
        Option = Continuous Fluid
      END
    END
    FLUID MODELS:
      COMBUSTION MODEL:
        Option = None
      END
      HEAT TRANSFER MODEL:
        Include Viscous Work Term = On
        Option = Total Energy
      END
      THERMAL RADIATION MODEL:
        Option = None
      END
      TURBULENCE MODEL:
        Option = k epsilon
      END
      TURBULENT WALL FUNCTIONS:
        High Speed Model = Off
        Option = Scalable
      END
    END
    BOUNDARY: S1 Outlet
      Boundary Type = OUTLET
      Interface Boundary = Off
      Location = OUTFLOW
      BOUNDARY CONDITIONS:
        FLOW REGIME:
          Option = Subsonic
        END
        MASS AND MOMENTUM:
          Option = Average Static Pressure
          Pressure Profile Blend = 0.05
          Relative Pressure = 5.6 [bar]
        END
        PRESSURE AVERAGING:
          Option = Average Over Whole Outlet
        END
      END
    END
  END
END

>physicsupdate
TURBO POST DATA:
  Machine Type = Axial Compressor
  Component Order = IGV, R1, S1
  Flow Type = Compressible
  Reference Pressure = 0 [atm]
  Rotation Axis From = 0 [m], 0 [m], 0 [m]
  Rotation Axis To = 1 [m], 0 [m], 0 [m]
  TURBO POST COMPONENT: IGV
    Domain Name = IGV
    Domain Motion = Stationary
    Number of Components in 360 = 70
    Number of Passages in 360 = 70
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 2
    Hub Region = HUB 2
    Shroud Region = SHROUD 2
    Inlet Region = INFLOW 2
    Outlet Region = OUTFLOW 2
    Periodic 1 Region = PER1 2
    Periodic 2 Region = PER2 2
  END
  TURBO POST COMPONENT: R1
    Domain Name = R1
    Domain Motion = Rotating
    Number of Components in 360 = 40
    Number of Passages in 360 = 40
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE 3
    Hub Region = HUB 3
    Shroud Region = SHROUD 3
    Inlet Region = INFLOW 3
    Outlet Region = OUTFLOW 3
    Periodic 1 Region = PER1 3
    Periodic 2 Region = PER2 3
  END
  TURBO POST COMPONENT: S1
    Domain Name = S1
    Domain Motion = Stationary
    Number of Components in 360 = 50
    Number of Passages in 360 = 50
    Number of Passages in Component = 1
    Complete Component = False
    Blade Region = BLADE
    Hub Region = HUB
    Shroud Region = SHROUD
    Outlet Region = OUTFLOW
    Inlet Region = INFLOW
    Periodic 1 Region = PER1
    Periodic 2 Region = PER2
  END
END""")
setup1.SendCommand(Command=">delete /AXIS:TurboPre")
setup1.SendCommand(Command=">delete /ROTATION MARKER:Marker R1")
solution1.SetExecutionControl(CCL=r"""&replace SIMULATION CONTROL:
  EXECUTION CONTROL:
    EXECUTABLE SELECTION:
      Double Precision = Off
      Large Problem = Off
    END
    INTERPOLATOR STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
    END
    PARTITIONER STEP CONTROL:
      Multidomain Option = Automatic
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARTITION SMOOTHING:
        Maximum Partition Smoothing Sweeps = 100
        Option = Smooth
      END
      PARTITIONING TYPE:
        MeTiS Type = k-way
        Option = MeTiS
        Partition Size Rule = Automatic
      END
    END
    RUN DEFINITION:
      Run Mode = Full
      Solver Input File = C:\Users\alebostr\Desktop\DT3_files\cfd\cfdrun_files\dp0\CFX\CFX\CFX.def
    END
    SOLVER STEP CONTROL:
      Runtime Priority = Standard
      MEMORY CONTROL:
        Memory Allocation Factor = 1.0
        Option = Model Based
      END
      PARALLEL ENVIRONMENT:
        Number of Processes = 1
        Start Method = Serial
      END
    END
  END
END
""")
solutionComponent1.Update(Force=True)
solution1.MarkUpToDate()
setup1.Edit()
setup1.SendCommand(Command="""ROTATION MARKER: Marker R1
  Visibility = true
  Location = SHROUD 3
  Rotation Speed = -16170.4 [rev min^-1]
  AXIS DEFINITION:
    Option = Coordinate Axis
    Rotation Axis = Coord 0.1
  END
END""")
setup1.SendCommand(Command="""AXIS: TurboPre
  Option = Coord Frame
  Visibility = true
  Reference Coord Frame = Coord 0
  Axis of Rotation = X
END""")
setup1.Exit()
results1.Edit()
results1.SendCommand(Command="""VIEW:View 1
  Light Angle = 50, 110
END

VIEW:View 2
  Light Angle = 50, 110
END

VIEW:View 3
  Light Angle = 50, 110
END

VIEW:View 4
  Light Angle = 50, 110
END

> update
>report save, format=preview""")
results1.SendCommand(Command="""REPORT:
  PUBLISH:
Generate 3D Viewer Files = Off
Report Format = HTML
Report Path = C:/Users/alebostr/Desktop/DT3_files/cfd/cfdrun_files/user_files/AxialCompressorReport_Gen1_5.6.htm
Save Images In Separate Folder = Off

END
END
>report save""")
results1.Exit()
Save(Overwrite=True)
